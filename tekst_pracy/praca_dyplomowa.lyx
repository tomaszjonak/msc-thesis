#LyX 2.2 created this file. For more info see http://www.lyx.org/
\lyxformat 508
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass aghdpl
\begin_preamble
% \documentclass{aghdpl}               % przy kompilacji programem latex
% \documentclass[pdflatex,en]{aghdpl}  % praca w języku angielskim
% dodatkowe pakiety
\usepackage{enumerate}
\usepackage{listings}
% Numeracja po kolei rysunkow, tabel i wzorow
\usepackage{chngcntr}
\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}
\counterwithout{equation}{chapter}
%
\lstloadlanguages{TeX}
\usepackage{caption} 
\captionsetup[figure]{labelformat=simple, labelsep=period}
\captionsetup[table]{labelformat=simple, labelsep=period}
\captionsetup[algorithm]{labelformat=simple, labelsep=period}
%\captionsetup{font=small}
\captionsetup{margin=10pt, font={small}, labelfont=bf, format=hang}
\usepackage{esint}
\clubpenalty = 10000
\widowpenalty = 10000
%\usepackage{graphicx}
%\usepackage{grfext}
%\AtBeginDocument{%
% \PrependGraphicsExtensions*{
%    .mps,.MPS,.pdf,.PDF,.eps,.EPS,.ps,.PS,
%    .png,.PNG,.jpg,.jpeg,.JPG,.JPEG,
%    .funny,.foobar
%  }%
%  \PrintGraphicsExtensions % see .log file
%}
% \usepackage[style=numeric-comp]{biblatex}
% \setlength{\itemsep}{-1\parsep}
%---------------------------------------------------------------------------
%\usepackage{epstopdf}
\end_preamble
\options pdflatex
\use_default_options true
\maintain_unincluded_children false
\language polish
\language_package default
\inputencoding iso8859-2
\fontencoding global
\font_roman "utopia" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\graphics none
\default_output_format default
\output_sync 0
\bibtex_command bibtex
\index_command default
\float_placement H
\paperfontsize 12
\spacing onehalf
\use_hyperref true
\pdf_title "dyplom"
\pdf_author "Imie Nazwisko"
\pdf_subject "Temat"
\pdf_keywords "słowa kluczowe"
\pdf_bookmarks true
\pdf_bookmarksnumbered true
\pdf_bookmarksopen true
\pdf_bookmarksopenlevel 2
\pdf_breaklinks true
\pdf_pdfborder true
\pdf_colorlinks false
\pdf_backref false
\pdf_pdfusetitle true
\papersize default
\use_geometry false
\use_package amsmath 0
\use_package amssymb 0
\use_package cancel 1
\use_package esint 0
\use_package mathdots 0
\use_package mathtools 1
\use_package mhchem 0
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style bst/IEEEtran
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 0
\index Indeks
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language polish
\papercolumns 1
\papersides 1
\paperpagestyle default
\listings_params "language={C++},alsolanguage={bash},breaklines=true,fontadjust=true,numberstyle={\tiny},stepnumber=1,numbersep={-7pt},numbers=right,numberstyle={\tiny},backgroundcolor={\color{cream}},basicstyle={\small}"
\tracking_changes false
\output_changes false
\html_math_output 3
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
author{Tomasz Jonak}
\end_layout

\begin_layout Plain Layout


\backslash
shortauthor{T.
 Jonak}
\end_layout

\begin_layout Plain Layout


\backslash
titlePL{Opracowanie oprogramowania do kompresji, przesyłu oraz składowania
 danych ze zdalnego systemu pomiaru parametrow ruchu drogowego}
\end_layout

\begin_layout Plain Layout


\backslash
titleEN{Development of software for compressing, transmitting and storing
 data from remote traffic measurement system}
\end_layout

\begin_layout Plain Layout


\backslash
shorttitle{Praca Magisterska}
\end_layout

\begin_layout Plain Layout


\backslash
faculty{Wydział Elektrotechniki, Automatyki,
\backslash

\backslash
Informatyki i Inżynierii Biomedycznej}
\end_layout

\begin_layout Plain Layout


\backslash
division{Katedra Metrologii i Elektroniki}
\end_layout

\begin_layout Plain Layout


\backslash
specialization{Automatyka i Robotyka}
\end_layout

\begin_layout Plain Layout


\backslash
thesistype{Praca dyplomowa magisterska}
\end_layout

\begin_layout Plain Layout


\backslash
supervisor{dr inż.
 Zbigniew Marszałek}
\end_layout

\begin_layout Plain Layout


\backslash
acknowledgements{Wymaga odkomentowania linijek w aghdpl.cls} 
\end_layout

\begin_layout Plain Layout


\backslash
date{2018} 
\end_layout

\begin_layout Plain Layout


\backslash
titlepages
\end_layout

\begin_layout Plain Layout


\backslash
setcounter{tocdepth}{2}
\end_layout

\begin_layout Plain Layout

%Te linijki zamieniaja Tabela i Rysunek na Tab.
 i Rys.
\end_layout

\begin_layout Plain Layout


\backslash
renewcommand*{
\backslash
tablename}{Tab.}
\end_layout

\begin_layout Plain Layout


\backslash
renewcommand*{
\backslash
figurename}{Rys.}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Chapter*
Wstęp
\begin_inset CommandInset label
LatexCommand label
name "chap:wstep"

\end_inset


\end_layout

\begin_layout Standard
Systemy pomiarowe służą badaniu wielkości fizycznych za pomocą zestawu czujników.
 Wyniki pomiarów składowane lokalnie na stanowisku pomiarowym, zanim zostaną
 dostarczone do miejsca obróbki nie posiadają istotnej wartości.
 Dopiero dostarczenie ich do przestrzeni składowania posiadającej możliwość
 dystrybucji do kolejnych systemów, a następnie obróbka pozwalają na wyciągnięci
e wniosków.
 Stanowiska pomiarowe w zależności od badanego zagadnienia mogą generować
 duże ilości danych, ich wymagana lokalizacja nie zawsze pozwala na doprowadzeni
e łącza sieciowego pozwalającego na bezproblemową transmisję do systemów
 przetwarzania.
\end_layout

\begin_layout Standard
Przykładem takiego systemu jest system pomiaru parametrów ruchu drogowego
 rejestrujący tzw.
 profile magnetyczne pojazdów zlokalizowany w miejscowości Gardawice.
 Dziennie generuje on duże ilości surowych, nieprzetworzonych danych.
 Dane te wykorzystywane są do celów badawczych na KMiE AGH.
 Stanowisko pomiarowe posiada połączenie sieciowe z uczelnią o niskiej przepusto
wości.
 Aby umożliwić przesył na bieżąco wymagane jest odpowiednie gospodarowanie
 łączem rozumiane jak wykorzystanie go w sposób oszczędny i dobrze przemyślany.
\end_layout

\begin_layout Section*
Cel pracy
\end_layout

\begin_layout Standard
Niniejsza praca powstała w celu zaprojektowania oraz wdrożenia systemu służącego
 automatycznemu przesyłowi danych ze stanowiska pomiarowego do przestrzeni
 magazynowania w Katedrze Metrologii i Elektroniki wydziału EAIiIB AGH w
 warunkach ograniczonej przepustowości łącza.
\end_layout

\begin_layout Section*
Zakres pracy
\end_layout

\begin_layout Standard
Praca obejmuje analizę danych generowanych przez stanowisko pomiarowe, oszacowan
ie strumienia generowanych danych oraz przepustowości łącza, dobór metod
 kompresji, opracowanie mechanizmu ochrony przed utratą danych oraz projekt
 i implementację oprogramowania realizującego pobór, kompresję, przesył
 oraz składowanie danych.
\end_layout

\begin_layout Section*
Układ pracy
\end_layout

\begin_layout Standard
Rozdział 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Wstęp-teoretyczny"

\end_inset

 zawiera opisy technologii użytych w pracy takich jak kompresja, protokół
 TCP oraz gniazda sieciowe.
 Rozdział 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:opis_problemu"

\end_inset

 opisuje funkcjonowanie stanowiska pomiarowego, analizę sprawności kompresji
 generowanych danych pomiarowych, oszacowanie przepustowości łącza oraz
 wymagania względem projektu oprogramowania.
 Rozdział 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Projekt-systemu"

\end_inset

 zawiera projekty komponentów składających się na system przesyłu, strategię
 działania w przypadku błędów środowiska oraz opis implementacji oprogramowania.
 Zachowanie implementacji w warunkach symulacyjnych oraz w środku docelowym
 opisuje rozdział 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Testy"

\end_inset

.
 Na rozdział 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Podsumowanie"

\end_inset

 składają się wnioski z poprzedzających rozdziałów, proponowane ścieżki
 rozwoju pracy oraz podsumowanie.
\end_layout

\begin_layout Chapter
Wstęp teoretyczny
\begin_inset CommandInset label
LatexCommand label
name "chap:Wstęp-teoretyczny"

\end_inset


\end_layout

\begin_layout Standard
Niniejszy rozdział zawiera opisy zagadnień oraz technologii użytych w pracy.
 Zagadnienia dotyczą warstwy sieciowej, nawiązywania połączeń sieciowych
 z użyciem protokołu TCP oraz kompresji.
\end_layout

\begin_layout Section
Protokół TCP
\end_layout

\begin_layout Standard
Protokół użyty w pracy jako kanał przesyłu danych .
 W modelach OSI oraz TCP/IP kategoryzowany jest jako protokół transportowy
 - pozwala na komunikację procesów na dwóch różnych maszynach, które komunikują
 się za pomocą sieci Internet.
 Protokół posiada następujące cechy:
\end_layout

\begin_layout Itemize
uporządkowany przesył danych (ang.
 ordered data transfer)
\end_layout

\begin_layout Itemize
retransmisja zgubionych pakietów (ang.
 packet retranssmision)
\end_layout

\begin_layout Itemize
zgodność danych nadanych z odebranymi (ang.
 error-free transmission)
\end_layout

\begin_layout Itemize
kontrola przepływu do odbiorcy (ang.
 flow control)
\end_layout

\begin_layout Itemize
kontrola przepływu po sieci (ang.
 congestion control)
\end_layout

\begin_layout Standard
Uporządkowanie oraz brak błędów przesyłu są podstawowymi wymaganiami względem
 transportu plików, stanowią podstawę wykorzystania tego protokołu do realizacji
 projektu.
 Szeroki opis wszystkich cech dostępny jest w sekcji 1.5 dokumentu 
\begin_inset CommandInset citation
LatexCommand cite
key "RFC0793-outline"

\end_inset

.
\end_layout

\begin_layout Standard
TCP jest protokołem stanowym, kanał komunikacyjny nazywany jest połączeniem
 (ang.
 connection).
 Jego nawiązanie oraz zamknięcie realizowane jest za pomocą odpowiednich
 sekwencji wiadomości: otwarcia oraz zamknięcia.
\end_layout

\begin_layout Subsubsection*
Sekwencja otwarcia połączenia
\end_layout

\begin_layout Standard
Nawiązanie połączenia jest realizowane za pomocą przesłania serii pakietów
 posiadających odpowiednie flagi - SYN oraz ACK.
 W nawiązaniu połączenia wyróżniamy klienta - stronę nawiązującą połączenie
 oraz serwer - stronę nasłuchującą.
 Sekwencja ma następującą postać.
\end_layout

\begin_layout Enumerate
Klient wysyła pakiet z flagą SYN
\end_layout

\begin_layout Enumerate
Serwer odpowiada pakietem z flagami SYN oraz ACK
\end_layout

\begin_layout Enumerate
Klient wysyła pakiet z flagą ACK
\end_layout

\begin_layout Standard
Po odebraniu ostatniego pakietu sesję uznaje się za poprawnie zainicjalizowaną
 i obie strony mogą przejść do przesyłu i odbioru danych.
 Opis szczegółowy w sekcji 3.4 dokumentu 
\begin_inset CommandInset citation
LatexCommand cite
key "RFC0793-outline"

\end_inset

.
\end_layout

\begin_layout Subsubsection*
Retransmisje
\end_layout

\begin_layout Standard
Nagłówek pakietu TCP posiada dwa 32 bitowe pola służące śledzeniu kolejności
 pakietów i potwierdzenia ich odbioru.
 Są to odpowiednio numer sekwencyjny (ang.
 sequence number) oraz numer potwierdzenia (ang.
 acknowledgement number).
 Na każdy wysłany pakiet o danym numerze sekwencyjnym N oczekiwany jest
 pakiet nadany przez serwer z flagą ACK oraz numerem sekwencyjnym o wartości
 N.
\end_layout

\begin_layout Standard
Potrzebę retransmisji można zidentyfikować na podstawie przekroczenia wartości
 oczekiwania (ang.
 timeout) na potwierdzenie danego pakietu oraz bazując na otrzymanej sekwencji
 potwierdzeń.
 Ilustruje to poniższy przykład.
\end_layout

\begin_layout Standard
W przypadku gdy pakiet zostanie zgubiony (o numerze sekwencyjnym N+1), zgodnie
 z protokołem odbiorca nie może wysłać pakietu ACK z wartością N+1 ani żadną
 następną aż do otrzymania pakietu, ponownie wysyła więc pakiet ACK dla
 ostatniego poprawnie odebranego pakietu (numer N).
 Otrzymanie trzykrotnie potwierdzenia dla pakietu N sygnalizuje nadawcy
 potrzebę retransmisji pakietu N+1.
 Precyzyjny opis działania numerów sekwencyjnych oraz ich relacji do zapewnienia
 uporządkowanego przesyłu opisuje sekcja 3.3 dokumentu 
\begin_inset CommandInset citation
LatexCommand cite
key "RFC0793-outline"

\end_inset

.
\end_layout

\begin_layout Subsubsection*
Sekwencja zamknięcia
\end_layout

\begin_layout Standard
Zakończenie połączenia może zostać zainicjowane przez obie strony komunikacji.
 Poprawne zamknięcie sesji wykorzystuje flagi FIN oraz ACK.
 
\end_layout

\begin_layout Enumerate
Inicjator wysyła pakiet z flagą FIN
\end_layout

\begin_layout Enumerate
Odbiorca wysyła pakiet z flagą ACK
\end_layout

\begin_layout Enumerate
Odbiorca wysyła pakiet z flagą FIN
\end_layout

\begin_layout Enumerate
Inicjator wysyła pakiet z flagą ACK
\end_layout

\begin_layout Standard
Kroki 2 oraz 3 mogą zostać zrealizowane za pomocą jednego pakietu wysłanego
 przez odbiorcę.
 Wysłanie pakietu FIN przez nadawcę sygnalizuje odbiorcy że nie otrzyma
 od niego więcej danych, sesję zamkniętą z jednej strony nazywamy half-open
 (pol.
 pół-otwartą) 
\begin_inset CommandInset citation
LatexCommand cite
key "RFC0793-outline"

\end_inset

.
\end_layout

\begin_layout Section
Komunikacja za pomocą gniazda sieciowego z użyciem protokołu TCP
\end_layout

\begin_layout Standard
W celu wyjaśnienia sposobu obsługi odczytu i zapisu danych z gniazd sieciowych,
 w niniejszym rozdziale przedstawiony zostanie opis konstrukcji gniazda.
 Wiedza ta stanowi powód zastosowania architektury opartej o wątki w rozdziale
 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Projekt-systemu"

\end_inset

.
\end_layout

\begin_layout Standard
W komunikacji za pomocą gniazd wyróżnić można trzy elementy: aplikację użytkowni
ka, jądro systemu operacyjnego oraz kartę sieciową (NIC, ang.
 Network Interface Card).
 Rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:tcp_socket_stack"

\end_inset

 przedstawia budowę gniazda sieciowego.
 Widoczne są na nim wymienione elementy oraz kanały komunikacyjne pomiędzy
 nimi.
 Aplikacja prowadzi interakcję z systemem operacyjnym za pomocą gniazda
 (ang.
 socket).
 Jądro systemu operacyjnego komunikuje się zaś z kartą sieciową za pomocą
 przerwań, oraz pamięci współdzielonej.
 Kolorem niebieskim oznaczono w przestrzeni jądra zestaw struktur danych,
 odpowiadających pojedynczemu połączeniu.
 Składa się on z kolejki nadawczej (ang.
 send queue), kolejki odbiorczej (ang.
 receive queue) oraz bloku kontrolnego połączenia (TCB, ang.
 TCP control block).
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/socket_example.jpg
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Elementy odpowiedzialne za komunikację TCP z użyciem socketów
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:tcp_socket_stack"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Użytkownik realizujący komunikację z pomocą gniazda zapisuje dane do kolejki
 nadawczej, bądź odczytuje z kolejki odbiorczej.
 W trakcie nadawania dane są pobierane z kolejki nadawczej, dzielone na
 pakiety i przekazywane do karty sieciowej, w celu nadania.
 W trakcie odbioru karta sieciowa przekazuje odebrane pakiety do jądra systemu,
 za pomocą pamięci współdzielonej, gdzie są one szeregowane na podstawie
 numerów sekwencyjnych, a następnie dane zapisywane są w kolejce odbiorczej.
\end_layout

\begin_layout Standard
Wykonując odczyt użytkownik podaje ilość danych którą oczekuje odebrać z
 kolejki.
 Jeśli kolejka zawiera mniej danych, niż żądana ilość, zwracana jest dostępna
 ilość.
 W przypadku, gdy wątek wykona odczyt,a kolejka odbioru będzie pusta, zostanie
 on uśpiony przez system operacyjny.
 Wątek zostanie wybudzony w momencie pojawienia się danych w kolejce.
 Sytuację taką nazywamy wywołaniem blokującym.
 Analogicznie zachowuje się wywołanie send, gdy kolejka posiada mniej wolnego
 miejsca niż przekazana ilość, zapisane zostaje tyle ile pozostało miejsca.
 Podobnie w przypadku zapisu do pełnej kolejki, wątek zostaje uśpiony do
 czasu zwolnienia miejsca.
\end_layout

\begin_layout Standard
Wywołanie blokujące w aplikacji jednowątkowej prowadzi do jej zablokowania.
 Jest to efekt niepożądany jeśli ma ona reagować na wiele zdarzeń jednocześnie.
 W takim przypadku wymagane jest zastosowanie wielu wątków, oraz zapewnienie
 synchronizacji ich działania.
 Przykładem takiej sytuacji jest jednoczesne odbieranie informacji o zapisaniu
 na dysk nowych pomiarów i nadawanie danych.
\end_layout

\begin_layout Section
Kompresja danych
\end_layout

\begin_layout Standard
W przypadku, gdy prędkość generowania danych przekracza przepustowość łącza
 sieciowego, może dojść do wyczerpania zasobów systemowych - pamięci ram
 oraz pojemności dysku twardego.
 Przypadek taki obserwowany jest w pracy.
 Aby zapobiec jego wystąpieniu wymagana jest obróbka danych, która zmniejszy
 ich wielkość.
 Czynność taka nazywana jest kompresją.
\end_layout

\begin_layout Standard
Kompresją nazywamy operację która przekształca plik danych w nowy plik mniejszej
 wielkości, nazywany plikiem skompresowanym.
 Operacja odtworzenia pliku oryginalnego z pliku skompresowanego nazywana
 jest dekompresją.
\end_layout

\begin_layout Standard
Wyróżnia się dwie główne rodziny metod kompresji, stratne oraz bezstratne
 
\begin_inset CommandInset citation
LatexCommand cite
key "Salomon:2009:HDC:1708069"

\end_inset

.
 Rozróżnienie prowadzone jest w oparciu o wynik dekompresji.
 Jeśli reprezentacja skompresowana pozwala na odtworzenie oryginalnego pliku,
 metodę nazywamy bezstratną.
 Stosuje się je w przypadku danych, których integralność jest kluczowa,
 takich jak skompilowane programy komputerowe czy kod źródłowy.
 Przykładem takiej metody jest kodowanie Huffmana (ang.
 Huffman coding) 
\begin_inset CommandInset citation
LatexCommand cite
key "huffman_encoding"

\end_inset

.
 
\end_layout

\begin_layout Standard
Kompresja stratna odrzuca część informacji, w celu osiągnięcia większego
 stopnia kompresji.
 Stosuje się ją w przypadkach, w których niesiona informacja może zostać
 odtworzona pomimo zaburzeń, takich jak transport plików graficznych, wideo
 oraz ścieżek dźwiękowych.
 Przykładami tego typu kompresji są standardy JPEG 
\begin_inset CommandInset citation
LatexCommand cite
key "jpeg_paper"

\end_inset

 oraz H.264 
\begin_inset CommandInset citation
LatexCommand cite
key "h264_paper"

\end_inset

.
\end_layout

\begin_layout Standard
Sprawność kompresji mierzona jest za pomocą stosunku wielkości reprezentacji
 wyjściowej do wejściowej.
 Wartość ta nazywana jest współczynnikiem kompresji 
\begin_inset CommandInset citation
LatexCommand cite
key "Salomon:2009:HDC:1708069"

\end_inset

.
 Przedstawia ją wzór 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:compression_factor"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\eta=\frac{V_{out}}{V_{in}}*100\%\label{eq:compression_factor}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Opisuje ona jakim procentem objętości oryginalnego pliku jest objętość pliku
 wynikowego.
\end_layout

\begin_layout Chapter
Analiza problemu
\begin_inset CommandInset label
LatexCommand label
name "chap:opis_problemu"

\end_inset


\end_layout

\begin_layout Standard
Celem rozdziału jest opis sposobu działania stanowiska pomiarowego, zbadanie
 struktury generowanych danych, oraz ich własności ilościowych, oszacowanie
 średniego strumienia danych generowanego przez pomiary oraz zmierzenie
 przepustowości sieci łączącej stanowisko pomiarowe z komputerem, do którego
 wysyłane będą dane pomiarowe.
\end_layout

\begin_layout Standard
Katedra Metrologii i Elektroniki AGH prowadzi badania dotyczące odczytu
 informacji o pojazdach poruszających się po drodze za pomocą zestawu czujników
 pętlowych.
 Aparatura pomiarowa została zamontowana na odcinku drogi krajowej DK-81,
 w miejscowości Gardawice.
\end_layout

\begin_layout Standard
W skład stanowiska pomiarowego wchodzą czujniki, połączone z układem przetwarzan
ia do postaci cyfrowej, kamera oraz komputer.
 Za obsługę stanowiska pomiarowego odpowiedzialne jest oprogramowanie napisane
 w środowisku LabVIEW.
 Odpowiada ono za zapis zmierzonych przebiegów sygnałów oraz sekwencji wideo,
 na dysku twardym.
 Rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:schemat_stanowiska"

\end_inset

 przedstawia schemat stanowiska 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/stanowisko_pomiarowe.JPG
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Schemat stanowiska pomiarowego 
\begin_inset Note Note
status open

\begin_layout Plain Layout
(dodac ref do oryginalu)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:schemat_stanowiska"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Stanowisko pomiarowe posiada również połączenie sieciowe z Katedrą Merologii.
 Zestawiony został tunel VPN (ang.
 virtual private network) zapewniający bezpieczeństwo i szyfrowanie komunikacji.
 Schemat tego połączenia przedstawia rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:schemat_sieciowy"

\end_inset

.
 Miejscem docelowym składowania pomiarów jest maszyna traffic2.
 Na rysunku przedstawiono ponadto maszynę traffic.eu.org, do której łączy
 się użytkownik w celu uzyskania dostępu do pozostałych maszyn.
 Dostęp realizowany jest za pomocą protokołu SSH (ang.
 Secure SHell)
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/schemat_sieciowy_stanowiska.jpg
	lyxscale 60
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Schemat połączeń sieciowych pomiędzy KMiE AGH a stanowiskiem pomiarowym
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:schemat_sieciowy"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Interakcje z środowiskiem w Gardawicach możliwe są za pomocą programu Cygwin,
 który pozwala używać maszyny z systemem operacyjnym Windows za pomocą konsoli
 w konwencji Unixowej.
\end_layout

\begin_layout Section
Struktura generowanych danych
\begin_inset CommandInset label
LatexCommand label
name "sec:Struktura-generowanych-danych"

\end_inset


\end_layout

\begin_layout Standard
Rezultatem pomiaru jest para plików - przebiegi czasowe sygnałów w formacie
 lvm (ang.
 LabVIEW measurement) oraz sekwencję wideo w formacie AVI (ang.
 Audio Video Interleave).
 Pliki posiadają jednakową nazwę, generowaną na podstawie czasu wykonania
 pomiaru, oraz grupowane są w katalogach dobowych.
 Katalogi dobowe znajdują się w pojedynczym katalogu głównym.
 Tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:nazwa_pliku"

\end_inset

 przedstawia schemat stosowany do wygenerowania nazw plików.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Schemat nazw plików
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="1" columns="8">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
M
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Rok
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Miesiąc
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Dzień
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
_
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Godzina
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Minuta
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Sekunda
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:nazwa_pliku"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Schemat nazwy folderu przedstawia tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:nazwa_folderu"

\end_inset

.
 Komórki pogrubione w obu tabelach stanowią zmienne zależne od momentu wygenerow
ania pliku.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Schemat nazwy katalogu
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="1" columns="6">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
R
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Rok
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
_
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Miesiąc
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
_
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Dzień
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:nazwa_folderu"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Zawartość katalogu głównego składowania danych pomiarowych zaprezentowana
 jest na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:gardawice_katalog_pomiary"

\end_inset

.
 Oprócz katalogów z danymi, które generowane są automatycznie.
 Część plików spełniających schemat nazwy katalogu, posiada rozszerzenie
 .tar.bz2.
 Oznaczają one skompresowane katalogi z pomiarami dobowymi.
 Pliki te są śladem manualnej ingerencji, mającej na celu zaoszczędzenie
 miejsca na dysku twardym.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/gardawice_widok_pomiarow.JPG
	lyxscale 50
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Katalog główny danych pomiarowych
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:gardawice_katalog_pomiary"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Strukturę katalogu dobowego z dnia 12.05.2018 przedstawia rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:pomiary_z_jednego_dnia"

\end_inset

.
 Zawartość ograniczona została do pierwszych dziesięciu linii.
 Widoczne są pary plików będące rezultatami kolejnych pomiarów.
 W ciągu doby stanowisko pomiarowe wygenerowało 11376 plików co odpowiada
 5688 pomiarom.
 Łączna wielkość danych z tego dnia wynosi 7.1 gigabajta.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/zawartosc_pojedynczego_folderu_z_pomiarami.JPG

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Katalog z pomiarami z jednego dnia
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:pomiary_z_jednego_dnia"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:pomiary_z_jednego_dnia"

\end_inset

 przedstawia zawartość katalogu z danymi pomiarowymi z dnia 12.05.2018 ograniczoną
 do pierwszych dziesięciu linii.
 Można zaobserwować pary plików odpowiadające kolejnym pomiarom.
 Ostatni widoczny pomiar został wykonany 3 minuty i 28 sekund po północy.
 W ciągu doby stanowisko pomiarowe wygenerowało 11376 plików o łącznej objętości
 7.1 Gigabajta.
\end_layout

\begin_layout Section
Analiza ilościowa plików generowanych przez stanowisko pomiarowe
\begin_inset CommandInset label
LatexCommand label
name "sec:Analiza-ilościowa"

\end_inset


\end_layout

\begin_layout Standard
Celem analizy ilościowej jest zbadanie zmienności w danych generowanych
 przez stanowisko pomiarowe.
 Interesującymi cechami są średnie wielkości plików oraz ich zmienność dobowa.
 Wnioski z tego rozdziału posłużą w dalszej części pracy do przygotowania
 testów działania aplikacji.
 Analizę prowadzono na podstawie zestawu danych wygenerowanych w dniach
 od 11.11.2017 do 10.12.2017.
\end_layout

\begin_layout Standard
Dziennie generowanych jest ok.
 5.6 tysiąca par plików.
 Ilość pomiarów jest związana z natężeniem ruchu drogowego, stąd można zakładać
 okresowe wahania spowodowane m.in.
 cyklem dobowym oraz świętami.
 Własności statystyczne generowanych plików, z podziałem ze względu na typ,
 prezentuje tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:wielkosci_plikow"

\end_inset

.
 Dane w tabeli, wyłączając liczbę plików, przedstawione są w bajtach.
 Wiersze Q1-Q3 odpowiadają kolejnym kwartylom.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Własności statystyczne danych pomiarowych z badanego okresu
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="9" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
avi
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lvm
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Liczba plików
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
167804
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
167804
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Średnia
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
502728
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
838532
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Odchylenie standardowe
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
133068
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
5378
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wartość minimalna
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
285696
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
806863
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q1 (25%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
351232
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
835712
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q2 (50%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
553984
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
840304
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q3 (75%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
604672
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
842676
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wartość maksymalna
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
862208
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
867866
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:wielkosci_plikow"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Reprezentacją graficzną danych z tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:wielkosci_plikow"

\end_inset

 jest wykres pudełkowy zaprezentowany na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:wielkosci_plikow_boxplot"

\end_inset

.
 Pozioma niebieska linia oznacza medianę.
 Czerwony prostokąt ograniczony jest z dołu i góry przez odpowiednio pierwszy
 i trzeci kwartyl (Q1 oraz Q3).
 Dwie pozostałe poziome linie znajdują się w odległości danej wzorem 1.5*IQR,
 gdzie IQR = Q3-Q1 od odpowiednich brzegów prostokąta.
 Czarne kropki oznaczają obserwacje odstające (ang.
 outliers) o wartościach nietypowych w kontekście badanego zbioru.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/filesystem_file_size_box_plot.png
	lyxscale 50
	scale 35

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Wykres pudełkowy rozmiarów plików z badanego okresu
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:wielkosci_plikow_boxplot"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Zarówno z rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:wielkosci_plikow_boxplot"

\end_inset

, jak i tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:wielkosci_plikow"

\end_inset

 można odczytać wysoki rozrzut rozmiaru generowanych sekwencji wideo.
 Reprezentację graficzną danych w ujęciu dobowym przedstawiona została na
 rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:wielkosc_avi"

\end_inset

.
 Wielkości plików zgrupowane zostały do minut a następnie dla każdej minuty
 przedstawiono minimum, maksimum, średnią oraz medianę.
 Na rysunku widoczne są dwie istotne zmiany rozmiaru, pierwsza między 6.30
 a 7.30, druga między 15.30 a 16.30.
 Godziny te odpowiadają wschodowi i zachodowi słońca w listopadzie.
 Zmienność rozmiaru sekwencji wideo jest więc zależna od naświetlenia stanowiska
 pomiarowego.
\end_layout

\begin_layout Standard
Na wykresie można również zaobserwować pojawienie się pustego pliku po godzinie
 17.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/wielkosci_dobowe_avi.jpeg
	lyxscale 50
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Zależność rozmiaru sekwencji wideo od momentu zarejestrowania w ujęciu dobowym
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "rys:wielkosc_avi"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Analogiczną metodę prezentacji zastosowano dla plików lvm.
 Przedstawia ją rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:wielkosci_lvm"

\end_inset

.
 Zmienność rozmiaru pliku nie wykazuje żadnej istotnej cykliczności w ujęciu
 dobowym.
 Na wykresie widać dwie 
\begin_inset Quotes pld
\end_inset

szpilki
\begin_inset Quotes prd
\end_inset

, oznaczające puste pliki.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/wielkosci_dobowe_lvm.jpeg
	lyxscale 50
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Zależność rozmiaru przebiegów czasowych sygnałów od czasu pomiaru
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:wielkosci_lvm"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Obliczenie wartości średniego strumień danych
\begin_inset CommandInset label
LatexCommand label
name "sec:Średni-strumień-danych"

\end_inset


\end_layout

\begin_layout Standard
Średni strumień danych określa prędkość napływu danych pomiarowych do przestrzen
i dyskowej.
 Jego wartość wyliczona została dzieląc sumę danych wygenerowanych w ciągu
 badanego okresu przez ilość sekund składających się na ten okres, formułę
 tą prezentuje wzór 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:sredni_strumien"

\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
S=\frac{V}{T}\,[\frac{B}{s}]\label{eq:sredni_strumien}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
S - strumień, V - ilość danych w bajtach, T - czas
\end_layout

\begin_layout Standard
Obliczenia przeprowadzono dla 30 pełnych dni (11.11 - 10.12).
\end_layout

\begin_layout Standard
\begin_inset Formula $T=30*24*60*60=2592000\,s$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $V_{avi}=84359710\,kB$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $V_{lvm}=140709087\,kB$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $V=V_{avi}+V_{lvm}=225068797kB$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $S=\frac{225068797\,kB}{2592000\,s}\approx86.8\,\frac{kB}{s}$
\end_inset


\end_layout

\begin_layout Standard
Wartość średnia w symulacji nie uwzględnia zmienności dobowej sekwencji
 wideo, zaobserwowanej w rozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Analiza-ilościowa"

\end_inset

.
\end_layout

\begin_layout Section
Oszacowanie przepustowość łącza sieciowego
\begin_inset CommandInset label
LatexCommand label
name "sec:Łącze-sieciowe"

\end_inset


\end_layout

\begin_layout Standard
Oszacowanie przepustowości łącza sieciowego ma w pracy dwa cele.
 Obliczenie współczynnika kompresji oraz stworzenie środowiska symulacyjnego,
 o parametrach zbliżonych do rzeczywistych.
\end_layout

\begin_layout Standard
Przepustowość zbadano z użyciem narzędzia iPerf 
\begin_inset CommandInset citation
LatexCommand cite
key "iperf"

\end_inset

.
 Pomiar został przeprowadzony pomiędzy maszynami traffic2 oraz stanowiskiem
 pomiarowym.
 Pomiar odbywa się w schemacie klient-serwer, w badanym przypadku rolę klienta
 przyjęła maszyna w miejscowości Gardawice.
 
\end_layout

\begin_layout Standard
Rezultat działania aplikacji iPerf widziany z komputera w miejscowości Gardawice
 przedstawia rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:iperf_gardawice"

\end_inset

.
 Nawiązano połączenie z komputerem traffic2 nasłuchującym pod adresem IP
 10.8.0.42 na porcie TCP 31337.
 Opcja -t definiuje czas pomiaru w sekundach, trwał on godzinę.
 Ostatnia linia na rysunku prezentuje podsumowanie pomiarów, zmierzona przepusto
wość wyniosła 58.1 kB/s.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/iperf_gardawice_to_mint_client.PNG

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Wyjście standardowe klienta programu iPerf w miejscowości Gardawice
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:iperf_gardawice"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Wynik pomiarów zaraportowany na maszynie traffic2 przedstawia rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:iperf_traffic2"

\end_inset

.
 Argumenty rozruchowe aplikacji zawierają flagę -s odpowiadającą za uruchomienie
 aplikacji w trybie serwerowym.
 Flagi -B i -p sterują odpowiednio adresem IP i portem TCP, na których nasłuchuj
e aplikacja.
 Rysunek zawiera rezultaty trzech pomiarów, gdzie pomiar o identyfikatorze
 4 odpowiada pomiarowi przedstawionemu na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:iperf_gardawice"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/iperf_gardawice_to_mint_server.PNG
	lyxscale 85
	scale 85

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Wyjście standardowe serwera programu iPerf na maszynie traffic2 
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:iperf_traffic2"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Wynikowa przepustowość zaraportowana przez serwer jest o 0.1 kB/s niższa
 niż w przypadku klienta.
 Może to być spowodowane buforowaniem danych przez stos sieciowy maszyny
 nadającej.
 W pracy przyjęto przepustowość łącza wynoszącą 58 kB/s.
\end_layout

\begin_layout Section
Dobór metod kompresji
\begin_inset CommandInset label
LatexCommand label
name "sec:Kompresja"

\end_inset


\end_layout

\begin_layout Standard
W sytuacji, gdy ilość danych generowanych przez stanowisko pomiarowe przekracza
 możliwości przesyłu łącza sieciowego może dojść do zapełnienia przestrzeni
 dyskowej.
 W badanym przypadku zgodnie z danymi z rozdziału 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Średni-strumień-danych"

\end_inset

 średni strumień generowanych danych wynosi 86.8 kilobajta na sekundę, a
 przepustowość łącza obliczona w rozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Łącze-sieciowe"

\end_inset

 wynosi 58 kilobajtów na sekundę.
 Wysyłanie danych w postaci nieprzetworzonej doprowadzi do zapełnienia przestrze
ni dyskowej.
 Aby zapobiec temu scenariuszowi należy zmniejszyć wielkość strumienia wejściowe
go stosując kompresję.
\end_layout

\begin_layout Standard
W celu doboru metody kompresji należy wyznaczyć wartość graniczną współczynnika
 kompresji zdefiniowanego wzorem 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:compression_factor"

\end_inset

.
 Pozwoli ona odrzucić metody kompresji które nie zapewniają wystarczającego
 zmniejszenia wielkości strumienia danych.
\end_layout

\begin_layout Standard
\begin_inset Formula $S_{in}=86.8\,\frac{kB}{s}$
\end_inset

 - średni strumień generowany przez stanowisko pomiarowe
\end_layout

\begin_layout Standard
\begin_inset Formula $S_{out}=58\,\frac{kB}{s}$
\end_inset

 - przepustowości sieci
\end_layout

\begin_layout Standard
\begin_inset Formula $\eta=\frac{V_{compressed}}{V_{original}}\cdot100\%=\frac{58}{86.8}\cdot100\%\approx66.8\%$
\end_inset


\end_layout

\begin_layout Standard
Analizę kompresji w toku niniejszego rozdziału rozbito ze względu na typ
 pliku na podrozdziały 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Kompresja-obrazu-wideo"

\end_inset

 oraz 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Kompresja-profili-magnetycznych"

\end_inset

.
 Graniczna wartość współczynnika ma zastosowanie dla sumarycznego strumienia,
 stąd brana pod uwagę jest dopiero w rozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Wynikowy-schemat-kompresji"

\end_inset

.
\end_layout

\begin_layout Standard
Do badań wybrano trzy popularne algorytmy kompresji, przedstawia je tabela
 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:kompresja_bezstratna"

\end_inset

.
 W badaniach użyto implementacji dostępnych jako biblioteki języka Python
 z ustawieniami domyślnymi, które przedstawia kolumna 
\begin_inset Quotes pld
\end_inset

Poziom Kompresji
\begin_inset Quotes prd
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Badane algorytmy kompresji bezstratnej
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Nazwa programu
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Nazwa algorytmu
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Poziom kompresji
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
bzip2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Transformata Burrowsa-Wheelera 
\begin_inset CommandInset citation
LatexCommand cite
key "burrows-wheeler"

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
9
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lzma
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Lempel–Ziv–Markov chain algorithm 
\begin_inset CommandInset citation
LatexCommand cite
key "lzma-spec,salomon2004-lzma"

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
zlib
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
deflate 
\begin_inset CommandInset citation
LatexCommand cite
key "salomon2004-deflate"

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:kompresja_bezstratna"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Zbiór danych testowych w niniejszym rozdziale stanowiły dane wygenerowane
 przez stanowisko pomiarowe dnia 06.10.2017.
\end_layout

\begin_layout Subsection
Kompresja obrazu wideo
\begin_inset CommandInset label
LatexCommand label
name "subsec:Kompresja-obrazu-wideo"

\end_inset


\end_layout

\begin_layout Standard
Obraz wideo uzyskany podczas przejazdu pojazdu służy do sprawdzenia typu
 pojazdu i ścieżki przejazdu przez stanowisko z czujnikami pętlowymi (istotny
 jest fakt zmiany pasa ruchu).
 Umożliwia to zastosowanie kompresji stratnej pod warunkiem zachowania możliwośc
i wizualnej identyfikacji wymienionych cech pojazdu.
\end_layout

\begin_layout Standard
Badanie stopnia kompresji przeprowadzono na czterech algorytmach, trzy wymienion
ych w tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:kompresja_bezstratna"

\end_inset

 oraz standard H.264.
\end_layout

\begin_layout Standard
Kompresję H.264 zrealizowaną za pomocą biblioteki x264 będącej częścią pakietu
 ffmpeg.
 Został on wywołany przy użyciu następującej komendy.
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

ffmpeg -i <nazwa_pliku> -preset slow -crf 32 -c:v libx264 <plik_wyjsciowy>
\end_layout

\end_inset

Wyniki badania w formie wykresu pudełkowego przedstawia rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:box_plot_kompresja_avi"

\end_inset

.
 Widać na nim wyraźną przewagę H.264 nad pozostałymi metodami.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/avi_compression.jpeg
	lyxscale 60
	scale 24

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Wynik testów kompresji obrazu wideo w postaci wykresu pudełkowego 
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:box_plot_kompresja_avi"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:kompresja_avi_cyfry"

\end_inset

 stanowi uzupełnienie rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:box_plot_kompresja_avi"

\end_inset

.
 Użycie biblioteki x264 oferuje średni współczynnik kompresji na poziomie
 2.97% oraz najniższe odchylenie standardowe spośród badanych metod.
 Tym sposobem stanowi najlepszego kandydata do zastosowania w projekcie.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Wynik badania kompresji obrazu wideo
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="9" columns="5">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lzma
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
bzip2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
zlib
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x264
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ilość plików
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6103
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Średnia
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
65.57
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
66.57
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
78.30
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2.97
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Odchylenie standardowe
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6.83
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5.28
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2.93
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1.39
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wartość minimalna
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
10.95
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
11.45
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
11.14
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.98
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q1 (25%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
59.61
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
62.81
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
76.98
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1.88
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q2 (50%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
65.14
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
66.36
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
78.63
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2.30
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q3 (75%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
71.28
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
70.18
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
80.09
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4.10
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wartość maksymalna
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
86.72
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
88.37
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
88.40
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
7.64
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:kompresja_avi_cyfry"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Zgodnie z informacjami ze wstępu niniejszego rozdziału, wybór kompresji
 stratnej wymaga ewaluacji utraty informacji podczas kompresji.
 Pakiet ffmpeg oferuje dwa główne parametry sterujące działaniem metody.
\end_layout

\begin_layout Itemize

\series bold
crf
\series default
 (ang.
 Constant Rate Factor) - określa stosunek jakości obrazu do stopnia kompresji.
 Przyjmuje wartości z przedziału 0-51, gdzie 0 oznacza kompresję bezstratną
 a 51 najgorszą dostępną jakość.
 Wybór wartości tego parametru jest zależny od akceptowalnej jakości obrazu
 i wymaganego współczynnika kompresji.
 Wartość domyślna: 23.
\end_layout

\begin_layout Itemize

\series bold
preset
\series default
 - opisuje stosunek prędkości kodowania do stopnia kompresji.
 Określany angielskimi słowami ('ultrafast', ..., 'medium', ..., 'veryslow').
 Wartość domyślna 'medium'.
\end_layout

\begin_layout Standard
Parametr preset nie wpływa na jakość obrazu wynikowego, z tego powodu pod
 kątem utraty informacji badano paramter crf.
 Rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:oryginalny_snapshot"

\end_inset

 przedstawia klatkę z oryginalnej sekwencji wideo.
 Rysunki 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:snapshot_crf23"

\end_inset

 i 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:snapshot_crf32"

\end_inset

 ilustrują wzrost zniekształceń w zależności od wartości parametru crf.
 Przedstawione wartości parametru nie zaburzają możliwości identyfikacji
 rodzaju pojazdu, liczby osi czy pasa ruchu.
 Uznano za odpowiednie zastosowanie wartości 32 dla tego parametru.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/snapshot_avi.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Oryginalna klatka z filmu
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:oryginalny_snapshot"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/snapshot_crf23.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Klatka skompresowana, crf 23
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:snapshot_crf23"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/snapshot_crf32.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Klatka skompresowana, crf 32
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:snapshot_crf32"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
W celu doboru optymalnych z punktu widzenia pracy parametrów przeprowadzono
 analizę wpływu parametru preset na wielkość pliku wynikowego oraz czas
 kompresji.
 Analiza została przeprowadzona przy wartości parametru crf dobranej w poprzedni
m akapicie.
\end_layout

\begin_layout Standard
Rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:presety_ffmpeg_porownanie"

\end_inset

 przedstawia medianę czasu kompresji oraz współczynnika kompresji dla każdego
 dostępnego ustawienia parametru preset.
 Najmniejszy czas kompresji obserwowany jest dla wartości 'superfast', najwyższy
 współczynnik kompresji - 'veryfast'.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/czas_sprawnosc_mediana.jpeg
	lyxscale 70
	scale 24

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Wykres punktowy czasu do współczynnika kompresji w zależności od wartości
 parametru preset
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:presety_ffmpeg_porownanie"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
W badanym przypadku zastosowano również metodę wizualizacji rozkładu danych
 za pomocą wykresów pudełkowych.
 Wykresy dla sprawności i czasu kompresji przedstawiają rysunki 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:presety_ffmpeg_kompresja"

\end_inset

 i 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:presety_ffmpeg_czas"

\end_inset

.
 Dane liczbowe zawierają odpowiednio tabele 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:preset_ffmpeg_kompresja"

\end_inset

 i 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:preset_ffmpeg_czas"

\end_inset

.
\end_layout

\begin_layout Standard
Odrzucono wartości 'ultrafast' oraz 'superfast', pomimo najniższego czasu
 kompresji ich sprawność zdecydowanie odbiega od pozostałych oraz cechuje
 się niską stabilnością.
 Ustawienia 'faster', 'fast' oraz 'medium' prezentują mniejszą sprawność
 niż 'veryfast' przy wyższym oczekiwanym czasie kompresji.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/stopien_kompresji_presety.jpeg
	lyxscale 70
	scale 24

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Wykres pudełkowy sprawności kompresji w zależności od wartości parametru
 preset
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:presety_ffmpeg_kompresja"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Wartości liczbowe pomiarów skuteczności kompresji w zależności od wartości
 parametru preset
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="9" columns="10">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
ultrafast
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
superfast
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
veryfast
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
faster
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
fast
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
medium
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
slow
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
slower
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
veryslow
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
Ilość plików
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
Średnia
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
7.89
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6.45
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
2.88
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
3.38
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
3.81
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
3.79
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
2.97
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
2.89
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
2.33
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
Odchylenie standardowe
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
5.66
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6.19
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.85
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
2.17
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
2.64
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
2.66
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.39
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.40
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.82
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
Wartość minimalna
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.24
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.06
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.73
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.81
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.89
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.96
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.98
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.02
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.88
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
Q1 (25%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
4.05
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
2.35
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.52
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.79
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.89
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.90
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.88
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.81
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.67
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
Q2 (50%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
5.09
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
2.94
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.90
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
2.25
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
2.36
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
2.33
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
2.30
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
2.20
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
2.00
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
Q3 (75%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
8.96
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
7.79
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
4.06
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
4.66
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
5.20
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
5.03
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
4.10
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
3.99
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
3.03
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
Wartość maksymalna
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
24.79
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
21.49
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
9.19
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
10.74
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
11.54
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
11.55
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
7.64
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
7.52
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
5.59
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:preset_ffmpeg_kompresja"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/czas_kompresji_presety.jpeg
	lyxscale 70
	scale 24

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Wykres pudełkowy czasu kompresji w zależności od wartości parametru preset
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:presety_ffmpeg_czas"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Wartości liczbowe pomiarów czasu kompresji w zależności od wartości parametru
 preset
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="9" columns="10">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
ultrafast
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
superfast
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
veryfast
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
faster
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
fast
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
medium
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
slow
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
slower
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
veryslow
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
Ilość plików
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
6103
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
Średnia
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.52
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.46
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.52
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.60
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.69
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.76
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.88
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.05
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.45
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
Odchylenie standardowe
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.20
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.16
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.17
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.18
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.21
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.21
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.20
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.21
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.28
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
Wartość minimalna
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.12
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.14
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.14
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.16
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.21
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.20
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.19
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.29
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.34
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
Q1 (25%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.38
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.36
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.40
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.47
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.54
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.60
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.74
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.90
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.26
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
Q2 (50%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.47
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.42
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.48
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.56
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.65
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.72
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.84
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.02
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.41
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
Q3 (75%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.61
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.54
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.61
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.70
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.81
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.88
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
0.99
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.16
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.60
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
Wartość maksymalna
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.85
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.61
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.62
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.73
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
2.10
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
1.96
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
2.77
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
3.01
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size scriptsize
\lang english
3.15
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:preset_ffmpeg_czas"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Na podstawie analizy danych przedstawionych na rysunkach 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:presety_ffmpeg_kompresja"

\end_inset

 i 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:presety_ffmpeg_czas"

\end_inset

 wybrano wartość 'veryslow'.
 Zysk z krótszego czasu kompresji jest tracony w momencie gdy dane skompresowane
 oczekują na wysyłkę w buforze nadawczym połączenia.
 Zmniejszenie wagi kosztem czasu kompresji odciąża łącze sieciowe.
\end_layout

\begin_layout Subsection
Kompresja plików lvm
\begin_inset CommandInset label
LatexCommand label
name "subsec:Kompresja-profili-magnetycznych"

\end_inset


\end_layout

\begin_layout Standard
Profile magnetyczne składowane są w postaci plików lvm (ang.
 LabVIEW Measurement).
 Zawartość przykładowego pliku przedstawia rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:lvm_internal"

\end_inset

.
 Dane podzielone są na siedem kolumn.
 Pierwsza z nich zawiera czas wykonania próbki z rozdzielczością 0.0001 sekundy.
 Pozostałe zawierają przebiegi czasowe sygnałów, tzw.
 profile magnetyczne.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/lvm_internal.JPG
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Przykładowa zawartość pliku lvm
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:lvm_internal"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Warto zauważyć, że czas wykonania próbki jest równy indeksowi wiersza pomnożonem
u przez 0.0001, stąd istnieje możliwość usunięcia pierwszej kolumny przed
 wysłaniem i odtworzenia po odebraniu pliku.
 W pracy nie zastosowano jednak tej metody.
\end_layout

\begin_layout Standard
Zbadano ponownie zestaw algorytmów wymieniony w tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:kompresja_bezstratna"

\end_inset

.
 Do testów dołączono algorytm kompresji sygnałowej oparty o zastosowanie
 falek, którego prototyp powstał w Katedrze Metrologii wydziału EAIiIB AGH.
 Ze względu na brak oficjalnej nazwy algorytm w toku pracy nazywany jest
 algorytmem falkowym, na rysunkach użyte zostało angielskie słowo wavelets
 (pol.
 falki).
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/lvm_compression.jpeg
	lyxscale 75
	scale 24

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Wyniki testów kompresji plików lvm w formie wykresu pudełkowego
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:box_plot_kompresja_lvm"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Wynik testów kompresji plików lvm w ujęciu statystycznym
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="9" columns="5">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lzma
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
bzip2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
zlib
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
wavelets
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ilość pomiarów
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
6103
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
6103
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Średnia
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
21.62
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
19.73
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
28.96
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
0.13
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Odchylenie standardowe
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
0.55
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
1.02
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
0.89
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
0.01
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wartość minimalna
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
19.37
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
16.10
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
26.28
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
0.09
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q1 (25%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
21.26
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
19.14
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
28.35
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
0.12
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q2 (50%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
21.57
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
19.54
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
28.82
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
0.13
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q3 (75%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
21.88
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
20.02
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
29.37
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
0.14
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wartość maksymalna
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
25.17
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
28.69
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
35.13
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\lang english
0.37
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:box_plot_kompresja_lvm"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:box_plot_kompresja_lvm"

\end_inset

 oraz tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:box_plot_kompresja_lvm"

\end_inset

 przedstawiają wyniki badań kompresji plików lvm.
 Kompresja falkowa wybija się na tle pozostałych metod.
 Średni współczynnik kompresji wyniósł 0.13%, co jest wartością dwa rzędy
 wielkości niższą niż w przypadku pozostałych metod.
\end_layout

\begin_layout Standard
Kompresja stratna wymaga analizy utraty informacji przy.
 Za miarę utraty informacji przyjęto błąd średniokwadratowy dany wzorem
 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:mse"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
mse=\frac{1}{n}\sum_{i=0}^{n-1}\left(x_{i}-\dot{x_{i}}\right)^{2}\label{eq:mse}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $n$
\end_inset

 - liczba próbek
\end_layout

\begin_layout Standard
\begin_inset Formula $x_{i}$
\end_inset

- i-ta próbka oryginalnego sygnału
\end_layout

\begin_layout Standard
\begin_inset Formula $\dot{x_{i}}$
\end_inset

- i-ta próbka zdekompresowanego sygnału
\end_layout

\begin_layout Standard
Sygnał zdekompresowany jest wynikiem zastosowania sekwencji kompresja-dekompresj
a na sygnale oryginalnym.
 Wyniki eksperymentu przedstawiają rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:wavelet_mse"

\end_inset

 oraz tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:wavelet_mse"

\end_inset

.
 W analizie wyróżniono kanały pomiarowe ze względu na inny oczekiwany przebieg
 sygnału.
 Dane pokazują bardzo wysokie wartości odchylenia standardowego w stosunku
 do średniej oraz wartości maksymalne błędu o dwa rzędy wielkości wyższe
 niż wartość średnia.
 Wartość maksymalna błędu przekracza odchylenie standardowe o kolejny rząd
 wielkości.
 Są one również widoczne na rysunku jako pojedyncze kropki.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/mse_wavelets.jpeg
	lyxscale 70
	scale 24

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Wykres pudełkowy błędu średnio-kwadratowego kompresji algorytmem falkowym
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:wavelet_mse"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="9" columns="7">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
Kanał 1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
Kanał 2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
Kanał 3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
Kanał 4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
Kanał 5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
Kanał 6
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
Ilość plików
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
5940
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
5940
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
5940
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
5940
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
5940
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
5940
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
Średnia
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
284.54
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
250.57
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
160.56
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
484.06
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
91.98
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
208.94
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
Odchylenie standardowe
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
3292.13
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
3155.06
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
2645.10
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
3953.51
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
1673.07
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
3054.47
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
Wartość minimalna
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.000341
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.000247
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.000536
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.000503
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.002096
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.000757
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
Q1 (25%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.001319
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.000708
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.001485
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.001304
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.002643
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.001596
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
Q2 (50%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.001917
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.001166
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.001984
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.001756
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.003014
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.002104
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
Q3 (75%)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.002505
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.001804
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.002314
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.002554
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.003510
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
0.002927
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
Wartość maksymalna
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
70019
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
91181
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
93338
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
73839
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
48370
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\size footnotesize
\lang english
151779
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Dane statystyczne błędu średnio-kwadratowego kompresji algorytmem falkowym
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:wavelet_mse"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Przebieg sygnałów oryginalnego i zdekompresowanego przedstawia rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:wavelet_poprawny_przebieg"

\end_inset

, wybrano przebieg o niskim błędzie średnikowadratowym.
 Dekompresja wprowadza niewielkie zakłócenia do przebiegu.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/wavelet_poprawny_przebieg.jpeg
	lyxscale 70
	scale 24

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Sygnał oryginalny i po procesie kompresji i dekompresji
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:wavelet_poprawny_przebieg"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
przebieg o najwyższym błędzie zaobserwowanym w zbiorze testowym przedstawiają
 rysunki 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:wavelet_little_signal"

\end_inset

 oraz 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:wavelet_poprawny_przebieg"

\end_inset

.
 Rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:wavelet_poprawny_przebieg"

\end_inset

został przeskalowany do zakresu [-10,10] na osi Y.
 Wartości sygnałów oryginalnych generowanych przez stanowisko pomiarowe
 mieszczą się w tym zakresie.
 Kompresja falkowa w szczególnych przypadkach wprowadza bardzo wysokie zaburzeni
a danych pomiarowych.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/zaburzenia_falek_duze.jpeg
	lyxscale 70
	scale 24

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Sygnał oryginalny i po procesie kompresji i dekompresji o najwyższym błędzie
 średniokwadratowym
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:wavelet_little_signal"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/zaburzenia_falek_duze_zblizenie.jpeg
	lyxscale 70
	scale 24

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:wavelet_little_signal"

\end_inset

 przeskalowany do zakresu -10,10 na osi Y
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:wavelet_duze_zaburzenia_przyblizony"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Algorytm falkowy został zbadany z ustawieniami domyślnymi, zaczerpniętymi
 z implementacji w języku Matlab dostarczonej jako referencyjna.
 Przypuszcza się, że zmodyfikowanie parametrów algorytmu może istotnie zmienić
 wartości błędu.
 Wymaga to jednak dodatkowych badań które nie zostały przeprowadzone w trakcie
 pracy.
\end_layout

\begin_layout Standard
Implementacja tego algorytmu w postaci biblioteki języka Python została
 dołączona do źródeł pracy.
 Może ona posłużyć jako podstawa do dalszych badań nad algorytmem, istnieje
 również możliwość uruchomienia tego trybu kompresji w projekcie.
\end_layout

\begin_layout Subsection
Wynikowy schemat kompresji
\begin_inset CommandInset label
LatexCommand label
name "subsec:Wynikowy-schemat-kompresji"

\end_inset


\end_layout

\begin_layout Standard
Na podstawie danych z wstępu rozdziału 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Kompresja"

\end_inset

 graniczny współczynnik kompresji wynosi 66.8%.
\end_layout

\begin_layout Standard
Metoda kompresji plików wideo została dobrana oddzielnie od metody dla plików
 lvm stąd wymagane jest obliczenie sumarycznego stopnia kompresji.
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\eta_{\left[metoda1,metoda2\right]}=\frac{\dot{V}_{avi}^{metoda1}+\dot{V}_{lvm}^{metoda2}}{V_{original}}\cdot100\%\label{eq:kompresja}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Wielkość oryginalna oznacza sumę wielkości wszystkich plików ze zbioru pomiarowe
go.
\end_layout

\begin_layout Standard
\begin_inset Formula $V_{original}=V_{avi}+V_{lvm}=10055751.505\,Kb$
\end_inset


\end_layout

\begin_layout Standard
Wielkość skompresowana oznacza sumę wielkości wszystkich plików danego typu
 skompresowanych daną metodą
\end_layout

\begin_layout Standard
\begin_inset Formula $\dot{V}_{typ}^{metoda}=\sum_{plik\in typ}wielkość(metoda(plik))$
\end_inset


\end_layout

\begin_layout Standard
Tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:sprawnosc_metod_kompresji"

\end_inset

 przedstawia macierz sumarycznych współczynników kompresji dla par metod
 obliczoną według wzoru 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:kompresja"

\end_inset

.
 Indeks wierszowy oznacza metodę kompresji plików lvm, indeks kolumnowy
 metodę kompresji sekwencji wideo.
 Najlepszą sprawność oferuje para metod (bzip2, x264), została ona zastosowana
 w projekcie.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Macierz sumarycznego współczynnika kompresji
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="6">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
avi
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lzma
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
bz2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
zlib
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x264
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lvm
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lzma
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
40.32
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
41.08
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
46.56
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
13.86
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
bzip2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
39.26
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
40.02
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
45.49
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
12.80
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
zlib
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
44.47
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
45.22
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
50.70
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
18.00
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:sprawnosc_metod_kompresji"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Na podstawie tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:sprawnosc_metod_kompresji"

\end_inset

 można stwierdzić że dowolna z proponowanych par metod spełnia założenia
 dostatecznej redukcji strumienia danych wejściowych.
 Dobranie metody z dużym zapasem pozwala jednak ubezpieczyć się na przypadek
 dużych zmian w przepustowości łącza oraz natężenia ruchu drogowego.
\end_layout

\begin_layout Section
Wymagania projektowe
\end_layout

\begin_layout Standard
Analiza danych rejestrowanych przez stanowisko pomiarowe prowadzi do następujący
ch wniosków.
\end_layout

\begin_layout Itemize
Ilość danych generowanych przez stanowisko pomiarowe nie jest stała w czasie
\end_layout

\begin_layout Itemize
Częstotliwość pojawiania się nowych plików jest zmienna
\end_layout

\begin_layout Itemize
Dane składowane są w podkatalogach konkretnego katalogu na dysku
\end_layout

\begin_layout Itemize
Przepustowość łącza nie pozwala na bezpośredni przesył danych, wymagana
 jest kompresja
\end_layout

\begin_layout Itemize
Wielkość plików avi posiada zdecydowanie większą zmienność niż lvm.
\end_layout

\begin_layout Itemize
Nazwy plików posiadają regularną strukturę, pozwala to na ich porządkowanie
 w czasie bez użycia metadanych pliku
\end_layout

\begin_layout Standard
Wymagania projektowe:
\end_layout

\begin_layout Itemize
Dane dostarczone na serwer uczelni mają zachować informacje kluczowe do
 dalszej obróbki, w przypadku plików sygnałowych/video nie wyklucza to kompresji
 stratnej
\end_layout

\begin_layout Itemize
System ma automatycznie nawiązywać ponowne połączenie w przypadku problemów
 z siecią, przewidywana jest duża niestabilność połączenia sieciowego.
\end_layout

\begin_layout Itemize
W przypadku utraty połączenia sieciowego aplikacja ma być w stanie przechować
 informacje o generowanych plikach i ponowić wysyłanie po odzyskaniu połączenia
\end_layout

\begin_layout Itemize
Parametry działania mają mieć formę konfigurowalną w postaci przełączników
 przy starcie aplikacji bądź plików konfiguracyjnych
\end_layout

\begin_layout Standard
Wymagane parametry konfigurowalne:
\end_layout

\begin_layout Itemize
Adres klienta
\end_layout

\begin_layout Itemize
Adres serwera
\end_layout

\begin_layout Itemize
Ścieżka do folderu, w którym składowane są wygenerowane dane pomiarowe
\end_layout

\begin_layout Itemize
Ścieżka do folderu, w którym składowane będą przesłane dane pomiarowe
\end_layout

\begin_layout Itemize
Schematy kompresji wybrane dla danych plików
\end_layout

\begin_layout Itemize
Lista typów plików do przesłania
\end_layout

\begin_layout Chapter
Projekt systemu
\begin_inset CommandInset label
LatexCommand label
name "chap:Projekt-systemu"

\end_inset


\end_layout

\begin_layout Standard
Niniejszy rozdział przedstawia projekt systemu służącemu przesyłowi danych,
 strategie ochrony przed ich utratą oraz informacje o sposobie konfiguracji
 i uruchamianiu gotowego projektu.
\end_layout

\begin_layout Standard
Podstawowymi zadaniami systemu są:
\end_layout

\begin_layout Enumerate
Pobranie danych ze stanowiska pomiarowego
\end_layout

\begin_layout Enumerate
Bezstratny przesył sieciowy
\end_layout

\begin_layout Enumerate
Zapisanie danych na serwerze
\end_layout

\begin_layout Standard
Ograniczenia projektu:
\end_layout

\begin_layout Itemize
Aplikacja zapisująca dane z kart pomiarowych do dysku nie może być modyfikowana
\end_layout

\begin_layout Itemize
Przepustowość łącza jest mniejsza niż strumień danych generowanych przez
 stanowisko pomiarowe
\end_layout

\begin_layout Itemize
Połączenie pomiędzy stanowiskiem pomiarowym a uczelnią może zostać zerwane
\end_layout

\begin_layout Itemize
Instalacja dodatkowych programów/bibliotek na maszynie stanowiska pomiarowego
 jest trudna ze względu na problemy z połączeniem i przepustowością
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/podstawowy_schemat_serwisow.jpg
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Schemat rozwiązania
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:schemat_rozwiazania"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:schemat_rozwiazania"

\end_inset

 przedstawia najistotniejsze elementy projektu.
 Zostały one podzielone ze względu na maszyny, na których się znajdują.
 Liniami oznaczono kanały służące komunikacji bądź przesyłowi danych.
 Projekt obejmuje komponenty Sender, Receiver oraz kanały komunikacyjne
 2, 4.
 Linie 3 i 5 oznaczają interakcje z dyskiem i stanowią cześć komunikacji
 kanałów odpowiednio 2 i 4.
\end_layout

\begin_layout Standard
Komponent LabVIEW oznacza system generowania danych pomiarowych i jest zewnętrzn
ym aktorem z perspektywy pracy.
\end_layout

\begin_layout Section
Identyfikowanie nowych danych pomiarowych
\begin_inset CommandInset label
LatexCommand label
name "sec:Odbiór-danych"

\end_inset


\end_layout

\begin_layout Standard
Kluczowym z perspektywy pracy jest zidentyfikowanie pojawienia się nowych
 danych pomiarowych.
 Pierwotnie LabVIEW po wykonaniu każdego pomiaru zapisywało parę plików
 (lvm, avi) na dysku i kończyło cykl działania.
 Identyfikację nowych danych pomiarowych można przeprowadzić na szereg sposobów:
\end_layout

\begin_layout Enumerate
Sender monitoruje stan dysku samodzielnie identyfikując nowe pliki
\end_layout

\begin_layout Enumerate
Sender subskrybuje zdarzenia systemowe mówiące o pojawieniu się nowych plików
\end_layout

\begin_layout Enumerate
Serwis LabVIEW za pomocą wybranego kanału udostępnia informację o pojawieniu
 się nowego pliku
\end_layout

\begin_layout Standard
Propozycja pierwsza zakłada cykliczne sprawdzanie stanu dysku i porównywanie
 z poprzednim odczytem a następnie identyfikowanie nowych plików na podstawie
 różnicy tych stanów.
 Wprowadza to do projektowanego systemu opóźnienie w wykryciu plików.
 W pesymistycznym przypadku jest ono równe interwałowi pomiędzy kolejnymi
 sprawdzeniami.
 Ponadto systemy operacyjne dostarczają wywołania systemowe do raportowania
 tego typu zdarzeń bez opóźnień.
\end_layout

\begin_layout Standard
Na ich wykorzystaniu opiera się propozycja druga.
 W systemach z rodziny Linux odpowiada za to subsystem inotify 
\begin_inset CommandInset citation
LatexCommand cite
key "inotify"

\end_inset

, Windows posiada zaś funckję systemową ReadDirectoryChangesW 
\begin_inset CommandInset citation
LatexCommand cite
key "wininotify"

\end_inset

.
 Istotną wadą tego podejścia jest wymóg zastosowania języka C, w którym
 napisane są te wywołania bądź języka C++, który posiada możliwość wywoływania
 funkcji języka C.
 Można również skorzystać z bibliotek FFI (ang.
 foreign function interface) pozwalających na wywołanie funkcji języka C
 w wybranym języku.
 Przykładem takiej biblioteki jest ctypes dostępne w języku Python 
\begin_inset CommandInset citation
LatexCommand cite
key "python-ctypes"

\end_inset

.
 Propozycja ta została odrzucona ponieważ prowadzi ona do utraty przenośności
 kodu.
\end_layout

\begin_layout Standard
Podejście piąte wymaga utworzenia dodatkowego elementu raportującego w LabVIEW.
 Zmiana taka nie wpływa na cykl działania aplikacji, wymaga jednak modyfikacji
 istniejącego rozwiązania.
 Została ona zaakceptowana i wprowadzona.
\end_layout

\begin_layout Standard
System pomiarowy nasłuchuje na porcie 6341 protokołu TCP, w przypadku nawiązania
 połączenia wysyła on za jego pomocą ścieżki do plików rozdzielone znakiem
 nowej linii po ich zapisaniu do dysku.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/sciezki_z_labview.JPG

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Ścieżki nadawane przez serwis LabVIEW
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:labview_nadaje"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:labview_nadaje"

\end_inset

 przedstawia pliki zaraportowane przez LabVIEW odebrane za pomocą programu
 netcat.
 Nadawane są ścieżki relatywne, należy je interpretować względem katalogu
 bazowego danych pomiarowych.
 Ponadto nie posiadają one rozszerzenia, każdej ścieżce odpowiada plik z
 rozszerzeniem .lvm oraz plik z rozszerzeniem .avi.
 Zadaniem odbiorcy jest uzupełnienie ścieżki o powyższe informacje.
\end_layout

\begin_layout Section
Schemat działania systemu
\begin_inset CommandInset label
LatexCommand label
name "sec:Schemat-działania-systemu"

\end_inset


\end_layout

\begin_layout Standard
Schemat działania systemu służy opisowi interakcji pomiędzy komponentami
 będącymi jego częścią jak również dyskiem twardym.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/schemat_przeslania_pliku.jpg
	lyxscale 50
	scale 55

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Schemat przesyłu danych pomiarowych
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:przeslanie_pliku"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Schemat-działania-systemu"

\end_inset

 przedstawia schemat przesyłu danych pomiarowych.
 Czynności pierwsza oraz druga dotyczą par plików będących wynikiem pomiaru.
 Pozostałe operują na pojedynczych plikach.
\end_layout

\begin_layout Enumerate
LabVIEW zapisuje wynik pomiaru na dysk na dysku
\end_layout

\begin_layout Enumerate
LabVIEW wysyła informację o nowych danych do Sendera
\end_layout

\begin_layout Enumerate
Sender sprawdza obecność plików na dysku
\end_layout

\begin_layout Enumerate
Sender pobiera dane z dysku i przeprowadza kompresję zgodnie ze zdefiniowanym
 schematem
\end_layout

\begin_layout Enumerate
Dane zostają wysłane do Receivera i dekompresuje zgodnie ze zdefiniowanym
 schematem
\end_layout

\begin_layout Enumerate
Receiver zapisuje dane na dysku
\end_layout

\begin_layout Enumerate
Receiver wysyła informację o poprawnym zapisaniu danych do Sendera
\end_layout

\begin_layout Enumerate
(opcjonalnie) Sender usuwa przesłany plik z przestrzeni dyskowej
\end_layout

\begin_layout Subsection
Sender
\end_layout

\begin_layout Standard
Komponent Sender odpowiedzialny jest za równoległą obsługę dwóch czynności:
 odbierania informacji o nowych danych pomiarowych oraz przesyłu.
 Na podstawie tego wymagania w pracy zastosowano architekturę wielowątkową.
 Pliki do wysłania przekazywane są do wątku nadającego za pomocą kolejki
 dyskowej.
 Zastosowanie kolejki zapobiega również utraceniu informacji o nowych plikach
 w momentach zwiększonego natężenia ruchu drogowego bądź zmniejszonej przepustow
ości łącza.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/schemat_klienta.jpg
	lyxscale 70
	scale 58

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Schemat serwisu Sender
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:sender_arch-1"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:sender_arch-1"

\end_inset

 przedstawia wątki, kolejki synchronizowane oraz kierunki przepływu informacji
 w komponencie Sender.
 Główny strumień danych przebiega od wątku ReceiverThread do SenderThread
 za pośrednictwem kolejki plików StageQueue.
 Wątki odpowiadają dwóm podstawowym zadaniom aplikacji, odpowiednio odbieraniu
 i nadawaniu danych pomiarowych.
 Na rysunku widoczny jest również wątek SynchronizationThread odpowiedzialny
 za uzupełnienie stanu kolejki w przypadku awarii, jego działanie zostało
 opisane w podrozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Synchronizacja"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/receiver_thread_flow.jpg
	lyxscale 70
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Schemat pracy wątku ReceiverThread
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:receiver_thread"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Schemat pracy wątku ReceiverThread przedstawia rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:receiver_thread"

\end_inset

.
 Wątek zostaje uśpiony do czasu pojawienia się danych w buforze połączenia,
 w przypadku gdy dane nie zawierają pełnej ścieżki wątek czeka na więcej
 danych po czym konstruuje pełną ścieżkę, sprawdza obecność plików na dysku
 i dodaje plik do kolejki plików do wysłania.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/sender_thread_flow.jpg
	lyxscale 80
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Schemat pracy wątku SenderThread
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:sender_thread"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Schemt pracy wątku SenderThread przedstawia rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:sender_thread"

\end_inset

.
 Po pobraniu ścieżki sprawdzane jest rozszerzenie pliku, na tej podstawie
 dobierany jest schemat kompresji.
 Na schemacie uproszczona została sekwencja wysyłania pliku bez kompresji,
 w pracy podobnie jak w przypadku kompresowanym odczytuje on z dysku i nadaje
 plik za pomocą fragmentów ustalonej wielkości.
 Jest to zabezpieczenie przed nadmiernym wykorzystaniem pamięci ram przez
 aplikację w przypadku przetwarzania dużych plików.
\end_layout

\begin_layout Subsection
Receiver
\end_layout

\begin_layout Standard
Serwis Receiver zrealizowany został jednowątkowo, oczekiwane jest od niego
 wysłanie potwierdzenia po zapisaniu każdego pliku na dysku.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/sender_component_scheme.jpg
	lyxscale 80
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Schemat pracy komponentu Receiver 
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:receiver_component"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:receiver_component"

\end_inset

 przedstawia schemat pracy komponentu Receiver.
 Nasłuchuje on na dane przychodzące z gniazda sieciowego, interpretuje je
 zgodnie ze schematem opisanym w rozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:protokół_przesyłu"

\end_inset

.
 W zależności od konfiguracji przystępuje do zapisywania danych na dysku
 w miarę ich odbierania z połączenia sieciowego.
 Opcjonalnie wykonuje dekompresję danych przed zapisem na dysk jeśli została
 ona skonfigurowana.
\end_layout

\begin_layout Standard
Ważną z perspektywy pracy jest strategia zapisywania danych na komputerze
 docelowym, projekt zakłada odtworzenie struktury katalogów z danymi pomiarowymi
 obecnej w Gardawicach.
 Kluczowym w tym wypadku jest wybór katalogu bazowego w konfiguracji serwisu
 Receiver.
 W przypadku skonfigurowania katalogu bazowego na
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

/var/server_storage/
\end_layout

\end_inset


\end_layout

\begin_layout Standard
przesłany plik o ścieżce
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

R2018_03_11/M180311_182125.lvm
\end_layout

\end_inset


\end_layout

\begin_layout Standard
zostanie zapisany w ścieżce
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

/var/server_storage/R2018_03_11/M180311_182125.lvm
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Odstępem od tej reguły jest przypadek gdy dekompresja się nie powiedzie,
 w takim przypadku plik zostanie zapisany w ścieżce
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

/var/server_storage/failed_decompression/R2018_03_11/M180311_182125.lvm
\end_layout

\end_inset


\end_layout

\begin_layout Section
Protokół przesyłu
\begin_inset CommandInset label
LatexCommand label
name "chap:protokół_przesyłu"

\end_inset


\end_layout

\begin_layout Standard
Głównym wymaganiem względem przesyłu plików jest jego bezstratność i uporządkowa
nie.
 Strumień bajtów nadawany przez Sendera musi być identyczny ze strumieniem
 odczytanym przez Receivera.
 W przypadku pracy powyższe cechy gwarantuje użycie protokołu TCP w warstwie
 transportowej.
\end_layout

\begin_layout Standard
Zgodnie z modelem TCP/IP protokół ten dostarcza jedynie pomost pomiędzy
 procesami na dwóch różnych maszynach, zadaniem użytkownika jest dobranie
 bądź skonstruowanie protokołu warstwy aplikacji, który zrealizuje zakładaną
 czynność, w przypadku pracy przesył plików.
\end_layout

\begin_layout Standard
Konstrukcja własnego protokołu posiada wymóg stworzenia reguł transformacji
 danych z formy dyskretnej - pojedynczego pliku - na ciągłą, strumień bajtów,
 która będzie zdatna do jednoznacznego odczytu przez odbiorcę.
 W szczególności wymaga to wykrycia w strumieniu granic pomiędzy kolejnymi
 plikami.
 Działanie takie jest proste w wypadku danych o stałej długości, odbiorca
 każdorazowo odczytuje ze strumienia fragment danych o zadanej długości
 i przetwarza zgodnie z ustalonymi regułami.
 W przypadku analizowanym w pracy nie można założyć stałej długości pliku.
 Z tego powodu wymagane jest zastosowanie reprezentacji, która jednoznacznie
 wyznaczy koniec pliku.
\end_layout

\begin_layout Standard
Podstawowym podejściem w przypadku przetwarzania strumieniowego jest używanie
 sekwencji terminującej, ustalonej z góry sekwencji bajtów, która rozdziela
 pakiety danych (pliki), podejście takie zastosowano w przypadku rozgłaszania
 nowych plików przez serwis LabVIEW, znak nowej linii nie może być częścią
 poprawnej ścieżki więc może zostać bezpiecznie zastosowany jako separator.
 Podczas przesyłu plików binarnych nie można zastosować tego podejścia ponieważ
 istnieje prawdopodobieństwo napotkania dowolnej sekwencji w ciele przesyłanego
 pliku.
 Zamiast tego nadawana jest długość pliku w bajtach przed jego zawartością,
 tym samym dostarczana jest odbiorcy informacja gdzie zaczyna się kolejny
 plik.
 Podejście takie stosuje protokół HTTP w wersji 1.1 używając nagłówka Content-Len
gth.
\end_layout

\begin_layout Standard
Innym podejściem jest otwieranie połączenia na czas nadawania pojedynczego
 pliku, tym sposobem jego koniec sygnalizowany jest przez zamknięcie połączenia.
 Podejście takie dozwolone jest w standardzie HTTP 1.0 w przypadku braku
 nagłówka Content-Length.
 
\begin_inset Note Note
status open

\begin_layout Plain Layout
cytowania
\end_layout

\end_inset


\end_layout

\begin_layout Standard
W pracy aby przesłać plik wymagane są następujące informacje:
\end_layout

\begin_layout Enumerate
Ścieżka do pliku
\end_layout

\begin_layout Enumerate
Wielkość pliku w bajtach
\end_layout

\begin_layout Enumerate
Informacje o sposobie dekompresji (jeśli stosowana)
\end_layout

\begin_layout Subsection*
Proponowany protokół przesyłu
\end_layout

\begin_layout Standard
W projektowanym przypadku wymagane są jedynie ścieżka do pliku, oraz jego
 wielkość.
 Zastosowanie protokołu HTTP do zrealizowania przesyłu wymagałoby przesłania
 serii dodatkowych nagłówków które nie dają żadnego zysku w pracy, ich przesyłan
ie wprowadza zaś stały narzut na połączenie sieciowe.
\end_layout

\begin_layout Standard
Z tego powodu zaproponowano uproszczony protokół wykorzystujący połączenie
 TCP.
 Do opisu pliku wykorzystuje on trójkę uporządkowaną przedstawioną na poniższym
 schemacie.
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

<ścieżka do pliku>
\backslash
r
\backslash
n<długość pliku>
\backslash
r
\backslash
n<zawartość pliku>
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Ścieżka do pliku jest skonstruowana analogicznie do raportu pliku generowanego
 przez Labview, zawiera jednak rozszerzenie (odpowiednio avi bądź lvm).
 Składa się ze znaków ASCII, nie posiada stałej długości, jej koniec w strumieni
u oznaczany jest sekwencją znaków 
\begin_inset Quotes pld
\end_inset


\backslash
r
\backslash
n
\begin_inset Quotes prd
\end_inset

.
 Znaki te zarówno na systemach Linux jak i Windows nie mogą stanowić części
 ścieżki, stąd ich zastosowanie.
 Długość pliku zapisywana jest do strumienia w taki sam sposób, w postaci
 znaków ASCII.
 Długość pliku definiuje ile bajtów od sekwencji '
\backslash
r
\backslash
n' należy traktować jako zawartość danego pliku.
\end_layout

\begin_layout Standard
Informacje o schemacie kompresji przechowywane są przez rozszerzenie będące
 częścią ścieżki, odpowiednie skojarzenie rozszerzenia ze schematem kompresji
 musi zostać skonfigurowane po obu stronach komunikacji.
 W odpowiedzi oczekiwana jest do ścieżka piku zakończona sekwencją 
\begin_inset Quotes pld
\end_inset


\backslash
r
\backslash
n
\begin_inset Quotes prd
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/schemat_dekodowania_pliku.jpg
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Sekwencja odbioru pliku
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:receiver_deserializacja"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:receiver_deserializacja"

\end_inset

 przedstawia sekwencję odbioru pliku zgodną ze zdefiniowanym protokołem.
 Stosowane są dwa sposoby odczytywania danych ze strumienia, do danej sekwencji
 znaków oraz stałą liczbę bajtów.
 Pierwsza z nich służy odczytaniu długości pliku oraz jego wielkości, druga
 pobraniu zawartości pliku.
 Wielkość pliku przesyłana jest w postaci ciągu znaków ASCII, przed wykorzystani
em musi zostać zdekodowana do liczby całkowitej nieujemnej.
\end_layout

\begin_layout Section
Scenariusze awarii i sposoby ich obsługi
\begin_inset CommandInset label
LatexCommand label
name "sec:Synchronizacja"

\end_inset


\end_layout

\begin_layout Standard
Wymogiem pracy jest zagwarantowanie przesłania wszystkich plików, system
 musi być w stanie przetrwać awarię poszczególnych elementów i wznowić poprawne
 działanie bez utraty danych.
 Aby zabezpieczyć się przed tego typu sytuacją zidentyfikowano szereg możliwych
 awarii oraz scenariusze przywrócenia poprawnego działania systemu.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/file_state.jpg

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Maszyna stanów pliku używana w analizie awarii
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:file_states"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
W celu ułatwienia analizy pliki zostały podzielone na trzy kategorie (nowy,
 monitorowany oraz zapisany) przedstawione na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:file_states"

\end_inset

.
 Plik znajduje się w stanie nowy od momentu stworzenia do momentu dodania
 do kolejki.
 W trakcie obecności w kolejce plik przyjmuje stan monitorowany, aplikacja
 ma informację o jego obecności na dysku, w momencie usunięcia pliku z kolejki
 po otrzymaniu potwierdzenia odebrania plik traktowany jest jako zapisany.
\end_layout

\begin_layout Subsection
Awaria komponentu Sender
\end_layout

\begin_layout Standard
Awaria taka może zostać spowodowana błędem w logice samej aplikacji, awarią
 systemu operacyjnego bądź odcięciem zasilania stanowiska pomiarowego.
\end_layout

\begin_layout Standard
Pierwszą czynnością, którą należy wykonać jest ponowne uruchomienie aplikacji.
 W tym celu należy dodać jej uruchamianie do skryptów rozruchowych systemu
 operacyjnego oraz ustawić zadanie monitorujące jej działanie odpowiedzialne
 za ponowny rozruch w przypadku awarii.
 Czynności te należą do administratora stanowiska pomiarowego i nie zostały
 zaimplementowane w ramach pracy.
\end_layout

\begin_layout Standard
Lista plików monitorowanych czyli zawartość kolejki do wysłania jest informacją,
 która nie może zostać utracona w trakcie awarii ponieważ jej odtworzenie
 jest czynnością kosztowną.
 Wymaga pobrania z serwisu Sender informacji o zawartości katalogu składowania
 danych pomiarowych, wyliczenia różnicy względem stanu katalogu z danymi
 pomiarowymi na stanowisku a następnie umieszczenia brakujących plików do
 kolejki.
 Operacja taka w przypadku dużej ilości danych oczekujących na wysłanie
 wymaga dużego zużycia łącza sieciowego na przesłanie informacji oraz czasu
 procesora na zidentyfikowanie braków.
\end_layout

\begin_layout Standard
W pracy zdecydowano się na zastosowanie kolejki dyskowej, która pozwala
 na przechowanie listy monitorowanych plików w pamięci trwałej.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/queue_state_basic.jpg
	lyxscale 60
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Graficzna reprezentacja informacji przechowywanych przez aplikacje
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:queue_basic_state"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:queue_basic_state"

\end_inset

 przedstawia opis informacji przechowywanych przez komponent Sender w trakcie
 poprawnego działania.
 Przechowywana jest identyfikator (ścieżka) ostatniego pliku który zmienił
 stan na zapisany, pliki w stanie monitorowany jako zawartość kolejki oraz
 pojedynczy plik w stanie nowy.
 
\end_layout

\begin_layout Standard
Rozsynchronizowanie występuje, gdy:
\end_layout

\begin_layout Enumerate
awaria nastąpi w momencie istnienia na dysku plików w stanie 'nowy'
\end_layout

\begin_layout Enumerate
Komponent LabVIEW wykona pomiar zanim komponent Sender nawiąże połączenie
\end_layout

\begin_layout Standard
Sytuacja może wystąpić w momencie odcięcia zasilania, sytuacja druga jest
 zależna od tego który z komponentów zostanie uruchomiony pierwszy po awarii.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/queue_state_unsynced.jpg
	lyxscale 60
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Graficzna reprezentacja zgubienia plików w stanie 'nowy'
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:queue_unsync_state"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Oba przypadki prowadzą do sytuacji przedstawionej na rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:queue_unsync_state"

\end_inset

.
 Komponent Sender ponownie nawiązał połączenie z komponentem LabVIEW przed
 zapisaniem pliku n+5.
 Pliki n+3 oraz n+4 nie zostaną zaraportowane i wysłane.
 Obsłużenie takiej sytuacji wymaga zastosowania dodatkowego mechanizmu,
 który przeszuka dysk w poszukiwaniu brakujących danych i doda je do kolejki.
\end_layout

\begin_layout Standard
Przeszukiwanie przestrzeni dyskowej jest kosztowne, obszar poszukiwania
 można ograniczyć na podstawie dwóch informacji:
\end_layout

\begin_layout Enumerate
Ścieżka do ostatniego pliku, który zmienił stan na monitorowany
\end_layout

\begin_layout Enumerate
Ścieżka pierwszego plik stworzony przez LabVIEW po ponownym nawiązaniu połączeni
a
\end_layout

\begin_layout Standard
Pierwszą informację można uzyskać przeszukując całą kolejkę, jednak zastosowanie
 takiego schematu jest kosztowne w przypadku dużej ilości plików w kolejce.
 Zastosowano dodatkową wartość synchronizacyjną przechowywaną na dysku twardym
 i modyfikowaną po każdorazowym dodaniu pliku do kolejki.
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
wide false
sideways false
status open

\begin_layout Plain Layout
1.
 Znajdź wszystkie pliki w folderze źródłowym, które zostały stworzone w
 przedziale (ostatni zapisany, pierwszy nowy), posiadają monitorowane rozszerzen
ia i nie są folderami
\end_layout

\begin_layout Plain Layout
2.
 Dodaj te pliki do kolejki monitorowanych plików
\end_layout

\begin_layout Plain Layout
3.
 Znajdź wszystkie foldery, które zostały stworzone w badanym przedziale
\end_layout

\begin_layout Plain Layout
4.
 Dla każdego folderu
\end_layout

\begin_layout Plain Layout
	4.1 Znajdź wszystkie pliki w folderze, które zostały stworzone w badanym
 przedziale i posiadają monitorowane rozszerzenia
\end_layout

\begin_layout Plain Layout
	4.2 Dodaj te pliki do kolejki monitorowanych plików
\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Algorytm synchronizacji plików po awarii
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "alg:synchro"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Algorytm 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:synchro"

\end_inset

 realizuje wyszukiwanie plików o stanie 'nowym' zmniejszając ilość plików
 do przeszukania za pomocą informacji o ostatnim poprawnie zapisanym pliku
 oraz pierwszym nowym plikiem przesłanym przez komponent LabVIEW.
 Synchronizacja odbywa się współbieżnie z podstawowym działaniem programu
 w wątku SynchronizationThread.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/sync_thread_flow.jpg
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Schemat działania wątku SynchronizationThread
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:sync_thread_flow"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:sync_thread_flow"

\end_inset

 przedstawia schemat działania wątku synchronizacyjnego.
 Informacje dodawane są do kolejki synchronizacyjnej tylko po ponownym nawiązani
u połączenia z komponentem LabVIEW przez wątek SenderThread.
 Z tego powodu większość czasu działania aplikacji wątek jest w stanie uśpionym.
\end_layout

\begin_layout Subsection
Zerwanie połączenia sieciowego
\end_layout

\begin_layout Standard
W połączeniach za pomocą protokołu TCP stroną inicjującą jest komponent
 Sender.
 Zerwanie połączenia wymaga jego ponownego nawiązania oraz mechanizmu ograniczaj
ącego ilość prób nawiązania połączenia.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/maszyna_stanow_polaczenia.jpg
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Maszyna stanów nawiązywania połączenia
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:connection_state_machine"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:connection_state_machine"

\end_inset

 przedstawia maszynę stanów, która obsługuje nawiązywanie połączenia oraz
 błędy połączenia.
 W momencie rozruchu wątku wchodzi on w stan 'try_establish', w którym nawiązywa
na jest próba wykonania połączenia.
 W przypadku błędu wątek przechodzi w stan 'sleep' który kończy się po skonfigur
owanym czasie powrotem do stanu try_establish.
 W przypadku sukcesu wątek przechodzi w stan work, w którym wykonywany jest
 kod obsługi połączenia.
\end_layout

\begin_layout Standard
Komponent Receiver w przypadku błędu sieci przechodzi w stan pasywny i nasłuchuj
e na połączenie przychodzące.
\end_layout

\begin_layout Subsection
Awaria komponentu Receiver
\end_layout

\begin_layout Standard
Wątek SenderThread komponentu Sender przechodzi w stan try_establish i prowadzi
 próby nawiązania połączenia co zadany interwał do czasu ponownego uruchomienia
 komponentu Receiver.
\end_layout

\begin_layout Standard
Zarówno awaria komponentu Receiver jak i problemy z siecią mogą prowadzić
 do istotnego zwiększenia rozmiaru kolejki plików oczekujących na wysłanie,
 projekt w tym momencie nie posiada mechanizmu pozwalającego na obsłużenie
 tego typu sytuacji.
 Wśród proponowanych rozwiązań jest usuwanie najmniej istotnych plików wg.
 zadanej miary bądź kompresja i składowanie danych w Gardawicach do czasu
 nawiązania połączenia.
 W pracy nie przeprowadzono implementacji oraz testów tych propozycji.
\end_layout

\begin_layout Subsection
Awaria komponentu LabVIEW
\end_layout

\begin_layout Standard
W tym przypadku wątek ReceiverThread przechodzi do schematu nawiązywania
 połączenia zgodnego z maszyną stanów z rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:connection_state_machine"

\end_inset

.
 Wątek SenderThread kontynuuje nadawanie plików do wyczerpania kolejki,
 a następnie zostaje uśpiony do czasu pojawienia się nowych danych pomiarowych.
\end_layout

\begin_layout Section
Wybór języka programowania
\begin_inset CommandInset label
LatexCommand label
name "sec:Język-programowania"

\end_inset


\end_layout

\begin_layout Standard
Dobór języka programowania do problemu jest kluczowy ze względu na ilość
 czasu wymaganego na implementację, możliwości rozbudowy rozwiązania oraz
 przenośność.
 Wyszczególniono następujące kryteria:
\end_layout

\begin_layout Enumerate
Wieloplatformowość - kod powinien nie wymagać żadnych zmian przed uruchomieniem
 na Windowsie i Linuxie
\end_layout

\begin_layout Enumerate
Szybkie prototypowanie - najwolniejszym elementem systemu jest połączenie
 sieciowe, z tego powodu zastosowanie języków wykorzystujących procesor
 w sposób bardziej efektywny nie zmienia czasu reakcji systemu.
 Język powinien m.in.
 automatycznie zarządzać pamięcią
\end_layout

\begin_layout Enumerate
Bogata biblioteka standardowa - ze względu na trudności w dostępie do stanowiska
 pomiarowego instalowanie zewnętrznych komponentów należy ograniczyć do
 minimum.
 Absolutnym minimum jest biblioteka do obsługi połączeń TCP.
\end_layout

\begin_layout Standard
Języki C i C++ nie spełniają żadnego z założeń.
 Wymagają kompilacji na docelową platformę, nie posiadają warstwy abstrakcji
 do interakcji ze stosem sieciowym oraz wymagają ręcznego zarządzania pamięcią.
 Cechą pozytywną ich zastosowania jest bezpośredni dostęp do wywołań systemowych
 takich jak inotify na systemach Linux.
 Wykorzystywanie połączeń TCP w języku C wymaga pracy bezpośrednio z użyciem
 gniazd, w języku C++ można zastosować to samo podejście bądź bibliotekę
 boost::asio.
 W przypadku programów pisanych zarówno na systemu Linux i Windows wymagane
 jest zastosowanie różnych kompilatorów oraz samodzielne wypracowanie warstw
 abstrakcji celem osiągnięcia przenośności kodu.
\end_layout

\begin_layout Standard
Z powodu powyższych problemów zastosowano język Python.
 Spełnia on założenia wymienione na początku podrozdziału.
 Prócz powyższych cech kod w tym języku jest interpretowany a nie kompilowany
 co zdejmuje z użytkownika wymóg stworzenia systemu budowania dostosowanego
 do obu docelowych platform.
 Uruchomienie kodu wymaga skopiowania źródeł na platformę docelową i uruchomieni
a interpretera z odpowiednią ścieżką.
\end_layout

\begin_layout Standard
Tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:python_biblioteki"

\end_inset

 przedstawia zestawienie funkcjonalności wymaganych przez projekt oraz ich
 dostępność w języku.
 Przez bibliotekę standardową rozumie się zestaw bibliotek, które są instalowane
 razem z interpreterem języka, programem Python i nie wymagają samodzielnej
 instalacji.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Zestawienie zagadnień wymaganych w projekcie i dostępności bibliotek
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="9" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="20page%">
<column alignment="center" valignment="top" width="0pt">
<column alignment="center" valignment="top" width="25page%">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Zagadnienie
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Nazwa biblioteki
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Uwagi
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Monitorowanie i manipulacja stanem dysku
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
pathlib
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Dostępna w bibliotece standardowej
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Obsługa połączeń sieciowych
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
socket, socketserver
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Dostępne w bibliotece standardowej
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Przetwarzanie parametrów podawanych z konsoli
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
argparse
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Dostępna w bibliotece standardowej
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Rejestrowanie i przetwarzanie czasu
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
datetime
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Dostępna w bibliotece standardowej
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kompresja i dekompresja
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lzma, bz2, zlib
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Dostępne w bibliotece standardowej
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kolejki dyskowe
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
brak
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Dostępne w postaci zewnętrznych bibliotek, nie koniecznie napisanych w pythonie
 z możliwością wywołania z tego języka
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kompresja x264
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
brak stabilnych
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pakiet ffmpeg wymaga uruchomienia jako oddzielny proces i przekierowania
 danych
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Uruchamianie i manipulacja procesami systemowymi
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
subprocess
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Dostępna w bibliotece standardowej
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:python_biblioteki"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Analogiczny poziom abstrakcji oferuje język Ruby jednak nie został on zastosowan
y ze względu na dłuższe doświadczenie autora z językiem Python.
\end_layout

\begin_layout Section
Obsługa danych strumieniowych
\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
opisac ladnie
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Na strumieniach wykonywany jest stały zestaw operacji
\end_layout

\begin_layout Itemize
Zapisz/Odczytaj token (element strumienia kończący się separatorem)
\end_layout

\begin_layout Itemize
Zapisz/Odczytaj daną ilość bajtów
\end_layout

\begin_layout Standard
Z tego powodu do aplikacji wprowadzono abstrakcje o nazwie Reader i Writer,
 które odpowiedzialne są za udostępnianie tych operacji.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/stream_operations.jpg
	lyxscale 80
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Klasy służące do manipulacji strumieniem
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:stream_operations"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:stream_operations"

\end_inset

 przedstawia schemat interakcji klas, które abstrahują strumień (socket)
 od użytkownika.
 Wprowadzenie klasy StreamProxy zostało podyktowane potrzebą wprowadzenia
 testów jednostkowych i pozwala na traktowanie pliku z danymi jako strumienia
 wejściowego.
\end_layout

\begin_layout Standard
Klasa StreamTokenWriter służy zapisywaniu danych do strumienia, w trakcie
 jej konstruowania podawany jest separator, dzięki któremu interfejs write_token
 tłumaczy podaną do niego zmienną na bajty, uzupełnia ją o separator i wpisuje
 do strumienia za pomocą metody write().
 Metoda write_bytes przyjmuje ciąg bajtów i zapisuje go bezpośrednio do
 strumienia.
\end_layout

\begin_layout Standard
Odczytanie danych zakończonych separatorem może wymagać więcej niż jednego
 odczytu z kolejki odbiorczej stosu sieciowego.
 Przechowanie danych do momentu napotkania separatora wymaga wprowadzenia
 buforowania.
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
wide false
sideways false
status open

\begin_layout Enumerate
Sprawdź czy w buforze znajduje się separator
\end_layout

\begin_deeper
\begin_layout Enumerate
Tak: zwróć dane do jego pozycji i usuń je z bufora razem z separatorem,
 zakończ
\end_layout

\begin_layout Enumerate
Nie: pobierz fragment danych, przejdź do punktu 1
\end_layout

\end_deeper
\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Pobierania danych o arbitralnej długości ze strumienia
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "alg:tokeny"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Algorytm 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:tokeny"

\end_inset

 prezentuje sposób pobierania danych zakończonych danym separatorem ze strumieni
a.
\end_layout

\begin_layout Section
Implementacja komponentu Sender
\begin_inset CommandInset label
LatexCommand label
name "sec:Implementacja-serwisu-Sender"

\end_inset


\end_layout

\begin_layout Standard
Kluczowymi elementami w implementacji Komponentu sender jest podział obsługi
 komunikacji na etap negocjacji połączenia i faktycznego przesyłu bądź odbioru
 danych.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/schemat_dziedziczenia_klient_watki.jpg
	lyxscale 70
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Diagram klas komponentu Sender
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:client_thread_class_diagram"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Schemat klas przedstawia diagram 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:client_thread_class_diagram"

\end_inset

.
 Do tworzenia i obsługi wątków wykorzystana jest klasa Thread z biblioteki
 threading dostępnej w języku Python.
 Wątki SenderThread i ReceiverThread dziedziczą po klasie KeepAliveWorker
 realizującej maszynę stanów przedstawioną na rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:connection_state_machine"

\end_inset

.
 Od klas dziedziczących wymagane jest zdefiniowanie metody work().
 Metoda ta zostanie wywołana po poprawnym nawiązaniu połączenia na zadany
 adres.
 Komunikacja pomiędzy wątkami realizowana jest za pomocą kolejek zgodnie
 ze schematem opisanym w sekcji 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Schemat-działania-systemu"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/schemat_rozruchu_klienta.jpg

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Schemat rozruchu aplikacji Sender
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:sender_startup"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Schemat rozruchu aplikacji przedstawia rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:sender_startup"

\end_inset

.
 Wątek główny aplikacji przyjmuje rolę nadzorcy odpowiedzialnego za uruchomienie
 poszczególnych części funkcjonalnych - wątków.
 W normalnym trybie działania aplikacja nie przewiduje zatrzymania, nastawiona
 jest na nieprzerwane przetwarzanie danych.
 Każdy z wątków posiada logikę odpowiedzialną za przechwytywanie błędów
 działania prowadzących do powrotu do normalnego trybu operacyjnego.
 Kolejność rozruchu podyktowana jest priorytetem operacji, synchronizacja
 i odbieranie pomiarów z Labview dostarczają danych, na których może pracować
 wątek wysyłający, z tego powodu uruchamiane są pierwsze.
\end_layout

\begin_layout Subsection
Konfiguracja i uruchamianie
\end_layout

\begin_layout Standard
Aplikacja przyjmuje serię informacji konfiguracyjnych takich jak adresy
 komponentów Labview i Receiver, interwały w nawiązywaniu połączenia czy
 mapowania danych konfiguracyjnych.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="14" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0pt">
<column alignment="center" valignment="top" width="0pt">
<column alignment="center" valignment="top" width="10page%">
<column alignment="center" valignment="top" width="30page%">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Sekcja
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Opcja
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Typ
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Opis
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
server
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
host
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ciąg znaków
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Adres IP komponentu Receiver
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
server
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
port
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
16 bit unsigned integer
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Port TCP komponentu Receiver
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
server
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
retry_time
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
unsigned integer
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Czas pomiędzy próbami nawiązania połączenia z komponentem Receiver
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
server
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
processor
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ciąg znaków
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Włącza/wyłącza możliwość kompresji
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
provider
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
host
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ciąg znaków
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Adres IP komponentu Labview
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
provider
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
port
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ciąg znaków
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Port TCP komponentu Labview
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
provider
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
extensions
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Lista ciągów znaków
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Lista rozszerzeń plików akceptowanych przez aplikację
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
provider
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
retry_time
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
unsigned integer
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Czas pomiędzy próbami nawiązania połączenia z komponentem Labview
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
provider
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
separator
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ciąg znaków
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Separator pomiędzy kolejnymi ścieżkami nadawanymi przez komponent Labview
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
storage_root
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ciąg znaków
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Katalog bazowy pomiarów
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
stage_queue_path
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ciąg znaków
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ścieżka do pliku przechowującego stan kolejki
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
cache_path
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ciąg znaków
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ścieżka do pliku przechowującego ostatni nadany plik
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Compression
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Mapa ciąg znaków na ciąg znaków
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Mapowanie pomiędzy rozszerzeniami plików do wysłania a używanym kompresorem
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Opcje konfiguracyjne komponentu Sender
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:sender_config_options"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:sender_config_options"

\end_inset

 przedstawia opcje konfiguracyjne komponentu Sender.
 Wyróżnione są dwie główne sekcje
\end_layout

\begin_layout Itemize
server - odpowiedzialna za interakcję z komponentem Receiver
\end_layout

\begin_layout Itemize
provider - odpowiedzialna za interakcję z komponentem Labview
\end_layout

\begin_layout Standard
Obie sekcje posiadają ustawienia dotyczące komunikacji sieciowej za pomocą
 protokołu TCP oraz interwał sterujący częstotliwością prób nawiązywania
 połączenia po błędzie.
 Aplikacja posiada konfigurowalny zestaw rozszerzeń oraz schematów kompresji.
 Konfiguracja zawiera również zestaw opcji wewnętrznych dotyczących ścieżek
 przechowywania stanu.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/client_json_config.PNG

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Przykładowa konfiguracja w formacie JSON
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:client_config_json"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:client_config_json"

\end_inset

 przedstawia pełną konfigurację aplikacji w formacie json.
 Konfiguracja zakłada odbieranie plików lvm oraz avi i składowanie ich w
 katalogu /tmp/client_storage.
 Ponadto dla powyższych typów plików skonfigurowana została kompresja zgodna
 z wnioskami z sekcji 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Kompresja"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top" width="50page%">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Flaga
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Opis
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-h, –help
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wypisuje dostępne opcje konfiguracyjne
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-c, –config
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ścieżka do pliku konfiguracyjnego w formacie JSON
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
–options
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pozwala na nadpisanie konfiguracji z konsoli za pomocą wpisu w postaci 
\begin_inset Quotes pld
\end_inset

<sekcja>.<pole> <wartosc>
\begin_inset Quotes prd
\end_inset

.
 Nie wspiera wartości będących słownikami bądź listami
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
–delete_acknowledged
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Włącza tryb usuwania plików po poprawnym nadaniu
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Flagi rozruchowe aplikacji Sender
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:sender_startup_options"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:sender_startup_options"

\end_inset

 przedstawia flagi jakie można podać w trakcie uruchamiania aplikacji.
 Flagi są opcjonalne.
 W przypadku braku podanych wartości konfiguracyjnych aplikacja uruchomi
 się z wartościami domyślnymi.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/sender_startup.PNG
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Logi z rozruchu komponentu
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:sender_startup_logs"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:sender_startup_logs"

\end_inset

 przedstawia log z rozruchu aplikacji z wykorzystaniem konfiguracji w pliku
 json.
 Aplikację uruchomiono lokalnie bez dostępu do zewnętrznych komponentów,
 można zaobserwować komunikaty z maszyny stanów nawiązywania połączenia
 wątków ReceiverThread i SenderThread.
\end_layout

\begin_layout Section
Implementacja komponentu Receiver
\begin_inset CommandInset label
LatexCommand label
name "sec:Implementacja-komponentu-Receive"

\end_inset


\end_layout

\begin_layout Standard
Komponent Receiver odpowiedzialny jest za odbiór i opcjonalną dekompresję.
 W architekturze klient-serwer jest on serwerem czyli oczekuje na przychodzące
 połączenia.
 Funkcjonalność ta została zrealizowana za pomocą biblioteki socketserver
 dostarczanej w standardzie języka python.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/schemat_klas_receiver.jpg
	lyxscale 70
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Schemat klas komponentu Receiver
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:receiver_class_diagram"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:receiver_class_diagram"

\end_inset

 przedstawia schemat relacji klas komponentu Receiver.
 Ponownie widoczna jest granica pomiędzy warstwą nawiązywania połączenia
 a warstwą procesorów obsługujących strumień danych.
 W przeciwieństwie do komponentu Sender w przypadku zerwaniu połączenia
 ponownie przejście w tryb nasłuchu obsługuje klasa TCPServer.
 W momencie nawiązania połączenia klasa DataReceiverServer tworzy obiekt
 klasy DataReceiverHandler posiadający metodę handle(), która uruchamia
 wątek główny obsługi połączenia.
 Maszyna stanów połączenia realizowana jest w klasie ServerProtocolProcessor,
 zgodnie ze schematem przedstawionym w sekcji 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Schemat-działania-systemu"

\end_inset

.
\end_layout

\begin_layout Standard
Komponent działa jednowątkowo stąd nie posiada istotnych informacji na temat
 schematu rozruchu.
\end_layout

\begin_layout Subsection
Konfiguracja i uruchamianie
\end_layout

\begin_layout Standard
Dane konfiguracyjne Receivera ponownie zawierają katalog bazowy do przechowania
 przychodzących pomiarów, adres nasłuchu oraz dane wewnętrzne.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top" width="30page%">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Opcja
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Typ
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Opis
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
host
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ciąg znaków
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Adres IP nasłuchu Receivera
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
port
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
16 bit unsigned integer
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Port TCP nasłuchu Receivera
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
storage_root
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ciąg znaków
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ścieżka bazowa, w której zapisywane będą pomiary
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
decompression
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Mapa ciąg znaków na ciąg znaków
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Mapowanie rozszerzenia na dekompresor
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Opcje konfiguracyjne komponentu Receiver
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:receiver_config_options"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:receiver_config_options"

\end_inset

 przedstawia dostępne opcje konfiguracyjne komponentu Receiver.
 Konfiguracja jest zdecydowanie prostsza niż komponentu Sender ze względu
 na fakt, że komponent nie prowadzi aktywnej komunikacji oraz nie przechowuje
 stanu.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/receiver_json_config.PNG

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Przykładowa konfiguracja w formacie JSON
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:receiver_config_json"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:receiver_config_json"

\end_inset

 przedstawia konfigurację Receivera w formacie JSON.
 Dekompresję należy traktować jako opcjonalną ze względu na skończoną ilość
 miejsca na dysku serwera uczelnianego.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Flaga
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Opis
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-h, –help
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wypisuje dostępne opcje konfiguracyjne
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-c, –config
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Opcjonalna ścieżka do konfiguracji w pliku w formacie JSON
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
–options
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Analogicznie jak w komponencie Sender
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Flagi rozruchowe aplikacji Receiver
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:receiver_startup_options"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:receiver_startup_options"

\end_inset

 przedstawia flagi, które można przekazać do aplikacji w trakcie jej uruchamiani
a, podobnie jak w Senderze dostępna jest możliwość wczytania konfiguracji
 z pliku oraz nadpisania części konfiguracji argumentami podanymi z konsoli.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/receiver_startup.PNG
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Logi z rozruchu komponentu
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:receiver_startup_logs"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:receiver_startup_logs"

\end_inset

 przedstawia log z rozruchu aplikacji.
 Wyszczególniony jest tryb podania konfiguracji, oraz para (ip, port) na
 której nasłuchuje komponent.
\end_layout

\begin_layout Chapter
\noindent
Testy
\begin_inset CommandInset label
LatexCommand label
name "chap:Testy"

\end_inset


\end_layout

\begin_layout Section
Testy jednostkowe
\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
Napisać że jest i można testować również to to i to
\end_layout

\end_inset


\end_layout

\begin_layout Section
Testy przepustowości
\end_layout

\begin_layout Standard
Celem zbadania przepustowości aplikacji w konfiguracji realizującej kompresje
 stworzono środowisko testowe z interfejsem sieciowym posiadającym ograniczoną
 przepustowość.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/schemat_sieciowy_test_przepustowosc.png
	lyxscale 60
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Schemat stanowiska testowego
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:schemat_stanowiska_test_obciazeniowy"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:schemat_stanowiska_test_obciazeniowy"

\end_inset

 przedstawia schemat stanowiska testowego.
 Wykorzystano komputer osobisty z systemem operacyjnym Windows 10 oraz dwie
 maszyny wirtualne służące przeprowadzeniu testu, nazwane zgodnie z komponentami
 które zostaną na nich uruchomione.
 Na maszynie wirtualnej vm-sender uruchomiono ponadto narzędzie symulujące
 komponent Labview.
 Na wykresie wyróżniono interfejsy sieciowe oraz adresy IP z nimi związane.
\end_layout

\begin_layout Standard
Sieć 192.168.0.0 służy do konfiguracji obu maszyn ze stacji roboczej za pomocą
 konsoli zdalnej SSH.
 Sieć 172.16.0.0 symuluje połączenie w warunkach roboczych systemu.
 Do ograniczenia przepustowości łącza wykorzystano program TC dostępny w
 systemie operacyjnym ubuntu.
 Wykorzystuje on subsystem jądra systemu jądra operacyjnego systemu o nazwie
 netlink do kontroli nad ilością nadawanych pakietów.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/test_tc_rate_limiting.PNG
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Wykorzystanie programu tc do ograniczenia przepustowości
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:test_tc_rate_limiting"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:test_tc_rate_limiting"

\end_inset

 przedstawia sekwencję programu tc wykorzystaną do ograniczenia przepustowości.
 Na potrzeby symulacji przepustowość ograniczono do 12 KB
\backslash
s przy opóźnieniu 200ms.
 Komenda nie zwraca informacji na wyjście standardowe (ang.
 standard output), z tego powodu sprawdzony został kod błędu znajdujący
 się w zmiennej $?.
 Poprawność ustawienie zweryfikowano również za pomocą komendy show.
 Warto zauważyć, że program tc operuje na interfejsach sieciowych, stąd
 w komendach użyty jest identyfikator interfejsu - enp0s9.
 Ten sam zestaw komend został wykonany na maszynie vm-receiver.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/iperf3_start.PNG
	scale 90

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Początek działania programu iperf3
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:test_rate_limiting_verif"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:test_rate_limiting_verif"

\end_inset

 przedstawia rozruch aplikacji iperf3 służącej weryfikacji przepustowości
 sieci.
 Składa się ona z dwóch komponentów - klienta oraz serwera.
 Serwer został uruchomiony na maszynie vm-receiver z opcją nasłuchu na porcie
 50123.
 Klient został uruchomiony na maszynie vm-sender z poleceniem połączenia
 się na adres 172.16.0.1 port 50123 odpowiadający serwerowi.
 Ponadto ustawiono opcję wypisywania wyjścia w kilobajtach na sekundę oraz
 czas trwania testu na 100 sekund.
 Program wypisuje dane cząstkowe co sekundę.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
a
\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Podsumowanie działania programu iperf3
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:test_rate_limiting_end"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:test_rate_limiting_end"

\end_inset

 przedstawia ostatnie cząstkowe wartości oraz podsumowanie działania programu.
 Przepustowość nadawania została oszacowana na 12.2 KB/s a przepustowość
 odbioru na 11.2 KB/s.
 Ustawienia programu tc nie zostały odwzorowane dokładnie jednak można uznać
 że warunki symulacji reprezentują dostatecznie dobrze środowisko docelowe.
\end_layout

\begin_layout Standard
W ramach testu wykorzystano komponent data_provider który jest w stanie
 zasymulować działanie Labview, wymaga on podania ścieżki do katalogu z
 pomiarami.
 Wysyła on informacje o nowych pomiarach co skonfigurowany interwał.
 Kolejność wysyłania plików jest zgodna z danymi czasowymi zawartymi w nazwach
 plików oraz katalogów z pomiarami.
 Kod źródłowy symulatora znajduje się w źródłach pracy (implementacja/sync/labvi
ew_sim/data_provider.py).
\end_layout

\begin_layout Standard
Do poprawnego przeprowadzenia symulacji wymagana jest średni interwał pomiędzy
 kolejnymi rozgłoszeniami par pomiarów.
 Do wyliczenia pomiarów użyto ponownie zestawu danych z sekcji 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Analiza-ilościowa"

\end_inset

.
 Zastosowano następującą formułę:
\end_layout

\begin_layout Standard
\begin_inset Formula $N=165249$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $T=28$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $\triangle T=\frac{T*24*60*60*s}{N}=\frac{2419200}{165249}\,\frac{s}{pomiar}=14.64\:\frac{s}{pomiar}$
\end_inset


\end_layout

\begin_layout Standard
gdzie
\end_layout

\begin_layout Standard
\begin_inset Formula $N-$
\end_inset

liczba wygenerowanych plików
\end_layout

\begin_layout Standard
\begin_inset Formula $T-$
\end_inset

liczba dni
\end_layout

\begin_layout Standard
\begin_inset Formula $\triangle T-$
\end_inset

interwał pomiędzy pomiarami
\end_layout

\begin_layout Standard
Na potrzeby testu nadawano dane wygenerowane na stanowisku w Gardawicach
 dnia 06.10.2017.
\end_layout

\begin_layout Standard
Rozruch wykonano za pomocą komendy
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

python3 sync/labview_sim/data_provider.py -hs 127.0.0.1 -p 50321 -s client_storage
 --extensions lvm avi --sleep 14.64
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Flaga
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Wartość
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Opis
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-hs
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
127.0.0.1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Adres IP symulatora
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-p
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
50321
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Port TCP symulatora
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-s
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
client_storage
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Katalog bazowy pomiarów
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
–extensions
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lvm avi
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Rozgłaszane roszerzenia plików
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
–sleep
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
14.64
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Czas pomiędzy kolejnymi rozgłoszeniami
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Argumenty rozruchowe symulatora
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:rys_provider_args"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:rys_provider_args"

\end_inset

 przedstawia flagi z jakimi został uruchomiony symulator Labview.
 Aplikacja nasłuchuje na interfejsie lokalnym porcie 50321, katalog z pomiarami
 został zdefiniowany relatywnie do katalogu rozruchu aplikacji, monitorowane
 rozszerzenia ustawione zostały zgodnie z wymaganiami pracy a wartość opóźnienia
 zgodnie z wyliczoną wartością.
\end_layout

\begin_layout Standard
Komponent Receiver został uruchomiony za pomocą następującej komendy
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

python3 server.py -c server.json
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/test_receiver_config.PNG

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Konfiguracja testowa komponentu Receiver
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:test_receiver_configuration"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:test_receiver_configuration"

\end_inset

 przedstawia konfigurację komponentu Sender na potrzeby testu.
 Został on skonfigurowany do nasłuchu pod adresem 127.16.0.1:50123 odpowiadającym
 sieci testowej, katalog bazowy pomiarów przyjął wartość server_storage.
 Ponadto pliki lvm zostaną zdekompresowane po odebraniu.
\end_layout

\begin_layout Standard
Komponent Sender został uruchomiony za pomocą następującej komendy
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

python3 client.py -c client.json
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/test_sender_config.PNG

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Konfiguracja testowa komponentu Sender
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:test_sender_config"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:test_sender_config"

\end_inset

 przedstawia konfigurację komponentu Receiver na potrzeby testu.
 Wartości par host:port klauzul 
\begin_inset Quotes pld
\end_inset

server
\begin_inset Quotes prd
\end_inset

 i 
\begin_inset Quotes pld
\end_inset

provider
\begin_inset Quotes prd
\end_inset

 odpowiadają konfiguracjom symulatora oraz Receivera.
 Zarówno Sender jak i symulator Labview zostały uruchomione na maszynie
 vm-sender.
 Ponadto obie aplikacje współdzielą katalog w którym zostały uruchomione,
 stąd katalog bazowy pomiarów - client_storage - wskazuje w obu przypadkach
 na tą samą lokalizację.
 Schemat kompresji zgodnie z wnioskami z sekcji 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Kompresja"

\end_inset

.
\end_layout

\begin_layout Standard
Wartością testu jest stan kolejki dyskowej, w przypadku dostatecznej przepustowo
ści jej długość powinna posiadać obserwowalną maksymalną wartość.
 Narastająca ilość plików oznacza niedostateczną przepustowość.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/test_queue_monitor_script.PNG
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Skrypt monitorujący stan kolejki
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "rys:test_monitoring_script"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Rys.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "rys:test_monitoring_script"

\end_inset

 przedstawia skrypt w języku Python za pomocą którego monitorowano stan
 kolejki dyskowej.
 Przyjmuje on dwa argumenty
\end_layout

\begin_layout Enumerate
Ścieżkę do pliku przechowującego stan kolejki
\end_layout

\begin_layout Enumerate
Ścieżkę do logu stanu kolejki
\end_layout

\begin_layout Standard
W trakcie działania wykonuje on zapytanie SELECT count(*) FROM queue które
 zlicza ilość wpisów w tabeli, każdy wpis odpowiada pojedynczemu elementowi
 w kolejce.
 Wartość następnie jest zapisywana w formacie CSV do pliku razem z czasem
 wykonania pomiaru.
 Skrypt został uruchomiony w następujący sposób.
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

python3 measure.py state_storage/stage.queue state_storage/queue.log
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Skrypt uruchomiono w tym samym katalogu co komponent Sender oraz symulator
 Labview.
\end_layout

\begin_layout Chapter
Podsumowanie
\begin_inset CommandInset label
LatexCommand label
name "chap:Podsumowanie"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset bibtex
LatexCommand bibtex
bibfiles "bibliografia"
options "bibtotoc,bst/IEEEtran"

\end_inset


\end_layout

\end_body
\end_document
